"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[6167],{3305:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"architecture/system-overview","title":"System Architecture Overview","description":"This document provides an overview of the MBC CQRS Serverless framework architecture.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/architecture/system-overview.md","sourceDirName":"architecture","slug":"/architecture/system-overview","permalink":"/docs/architecture/system-overview","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Architecture","permalink":"/docs/architecture"},"next":{"title":"CQRS Pattern Flow","permalink":"/docs/architecture/cqrs-flow"}}');var s=t(4848),r=t(8453);const a={sidebar_position:1},o="System Architecture Overview",l={},c=[{value:"AWS Infrastructure",id:"aws-infrastructure",level:2},{value:"Component Description",id:"component-description",level:2},{value:"API Layer",id:"api-layer",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Compute",id:"compute",level:3},{value:"Data Storage",id:"data-storage",level:3},{value:"Messaging",id:"messaging",level:3},{value:"Orchestration",id:"orchestration",level:3},{value:"Notifications",id:"notifications",level:3},{value:"Data Flow",id:"data-flow",level:2},{value:"Multi-Tenant Architecture",id:"multi-tenant-architecture",level:2}];function d(e){const n={h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"system-architecture-overview",children:"System Architecture Overview"})}),"\n",(0,s.jsx)(n.p,{children:"This document provides an overview of the MBC CQRS Serverless framework architecture."}),"\n",(0,s.jsx)(n.h2,{id:"aws-infrastructure",children:"AWS Infrastructure"}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart TB\n    subgraph Clients\n        WebApp[Web Application]\n        MobileApp[Mobile Application]\n        External[External Systems]\n    end\n\n    subgraph AWS\n        subgraph API\n            APIGW[API Gateway]\n            AppSync[AppSync]\n            WSGateway[WebSocket API]\n        end\n\n        subgraph Auth\n            Cognito[Amazon Cognito]\n        end\n\n        subgraph Compute\n            Lambda[AWS Lambda]\n        end\n\n        subgraph Storage\n            DynamoDB[(DynamoDB)]\n            RDS[(RDS Aurora)]\n            S3[(S3)]\n        end\n\n        subgraph Messaging\n            SNS[SNS]\n            SQS[SQS]\n        end\n\n        subgraph Orchestration\n            StepFunctions[Step Functions]\n        end\n\n        subgraph Notifications\n            SES[SES]\n        end\n    end\n\n    WebApp --\x3e APIGW\n    WebApp --\x3e AppSync\n    WebApp --\x3e WSGateway\n    MobileApp --\x3e APIGW\n    MobileApp --\x3e AppSync\n    External --\x3e APIGW\n\n    APIGW --\x3e Cognito\n    AppSync --\x3e Cognito\n    WSGateway --\x3e Cognito\n\n    APIGW --\x3e Lambda\n    AppSync --\x3e Lambda\n    WSGateway --\x3e Lambda\n\n    Lambda --\x3e DynamoDB\n    Lambda --\x3e RDS\n    Lambda --\x3e S3\n    Lambda --\x3e SNS\n    Lambda --\x3e SES\n    Lambda --\x3e StepFunctions\n\n    SNS --\x3e SQS\n    SQS --\x3e Lambda\n    StepFunctions --\x3e Lambda"}),"\n",(0,s.jsx)(n.h2,{id:"component-description",children:"Component Description"}),"\n",(0,s.jsx)(n.h3,{id:"api-layer",children:"API Layer"}),"\n",(0,s.jsx)(n.p,{children:"The entry point for receiving client requests."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Gateway"}),": REST API endpoints for CRUD operations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AppSync"}),": GraphQL API for flexible queries and subscriptions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"WebSocket API"}),": Real-time bidirectional communication"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Amazon Cognito"}),": User authentication, JWT tokens, and user pools"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"compute",children:"Compute"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AWS Lambda"}),": Serverless execution of NestJS applications"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"data-storage",children:"Data Storage"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DynamoDB"}),": Primary event store for CQRS data persistence"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"RDS Aurora"}),": Optional relational data for complex queries"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"S3"}),": File and document storage"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"messaging",children:"Messaging"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SNS"}),": Event fan-out and topic-based publishing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SQS"}),": Reliable message queuing and async processing"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"orchestration",children:"Orchestration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Step Functions"}),": Long-running workflows and saga patterns"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"notifications",children:"Notifications"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SES"}),": Transactional email delivery"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,s.jsx)(n.p,{children:"How requests flow through the system."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Client Request"}),": Client sends request via API Gateway, AppSync, or WebSocket"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authentication"}),": Cognito validates JWT tokens"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Command Execution"}),": Lambda processes command and persists to DynamoDB"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Event Publishing"}),": Events are published to SNS"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Event Processing"}),": SQS queues trigger Lambda handlers for async processing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Read Model Update"}),": Projections update RDS for complex queries"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"multi-tenant-architecture",children:"Multi-Tenant Architecture"}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart LR\n    subgraph TenantIsolation\n        Request[Incoming Request]\n        Auth[Authentication]\n        TenantResolver[Tenant Resolver]\n\n        subgraph DataPartition\n            T1[Tenant A Data]\n            T2[Tenant B Data]\n            T3[Tenant C Data]\n        end\n    end\n\n    Request --\x3e Auth\n    Auth --\x3e TenantResolver\n    TenantResolver --\x3e T1\n    TenantResolver --\x3e T2\n    TenantResolver --\x3e T3"}),"\n",(0,s.jsx)(n.p,{children:"Tenant isolation is achieved through:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Partition Key Prefix"}),": Each tenant's data is prefixed with the tenant code"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Request Context"}),": Tenant information is extracted from JWT tokens"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Query Filtering"}),": All queries are automatically scoped to the tenant"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);