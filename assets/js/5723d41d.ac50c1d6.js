"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[3765],{3840:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"sequence","title":"Sequence","description":"Sequence setup and usage.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/sequence.md","sourceDirName":".","slug":"/sequence","permalink":"/docs/sequence","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"description":"Sequence setup and usage."},"sidebar":"tutorialSidebar","previous":{"title":"Versioning Rules","permalink":"/docs/version-rules"},"next":{"title":"Task","permalink":"/docs/tasks"}}');var i=t(4848),r=t(8453);const c={description:"Sequence setup and usage."},o="Sequence",d={},l=[{value:"1. Purpose",id:"1-purpose",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"2. Usage",id:"2-usage",level:2},{value:"<em>async</em> <code>generateSequenceItem( dto: GenerateFormattedSequenceDto, options?: {invokeContext:IInvoke}):  Promise&lt;SequenceEntity&gt;</code>",id:"async-generatesequenceitem-dto-generateformattedsequencedto-options-invokecontextiinvoke--promisesequenceentity",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Response",id:"response",level:4},{value:"Customizable",id:"customizable",level:4},{value:"Example",id:"example",level:4},{value:"<em>async</em> <code>generateSequenceItemWithProvideSetting(dto: GenerateFormattedSequenceWithProvidedSettingDto, options?: {invokeContext: IInvoke}): Promise&lt;SequenceEntity&gt;</code>",id:"async-generatesequenceitemwithprovidesettingdto-generateformattedsequencewithprovidedsettingdto-options-invokecontext-iinvoke-promisesequenceentity",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Example",id:"example-1",level:4},{value:'<em>async</em> <code>getCurrentSequence(key: DetailKey): Promise&lt;DataEntity&gt;</code> <span class="badge badge--warning">deprecated</span>',id:"async-getcurrentsequencekey-detailkey-promisedataentity-deprecated",level:3},{value:'<em>async</em> <code>genNewSequence( dto: GenerateSequenceDto, options: {invokeContext: IInvoke}): Promise&lt;DataEntity&gt;</code> <span class="badge badge--warning">deprecated</span>',id:"async-gennewsequence-dto-generatesequencedto-options-invokecontext-iinvoke-promisedataentity-deprecated",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"sequence",children:"Sequence"})}),"\n",(0,i.jsx)(n.h2,{id:"1-purpose",children:"1. Purpose"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"SequenceModule"}),"  is a service for managing dynamic sequences in the system using DynamoDB as the primary database."]}),"\n",(0,i.jsx)(n.p,{children:"This service is designed to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Generate unique sequence numbers based on parameters such as sequence type, tenant, or date."}),"\n",(0,i.jsxs)(n.li,{children:["Automatically reset sequences based on cycles like:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Daily."}),"\n",(0,i.jsx)(n.li,{children:"Monthly."}),"\n",(0,i.jsx)(n.li,{children:"Yearly."}),"\n",(0,i.jsx)(n.li,{children:"Fiscal Yearly."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Format sequence numbers according to specific system requirements (e.g., TODO-PERSONAL-72-001).\nEnsure data consistency and integrity in multi-tenant systems."}),"\n",(0,i.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Client\n    participant SequencesService\n    participant DynamoDB\n\n    Client->>SequencesService: generateSequenceItem(dto)\n    SequencesService->>DynamoDB: UpdateItem ADD counter 1\n    Note over DynamoDB: Atomic increment\n    DynamoDB--\x3e>SequencesService: New counter value\n    SequencesService->>SequencesService: Format ID with pattern\n    SequencesService--\x3e>Client: SequenceEntity"}),"\n",(0,i.jsx)(n.h2,{id:"2-usage",children:"2. Usage"}),"\n",(0,i.jsxs)(n.p,{children:["The solution for customizing the behavior of the ",(0,i.jsx)(n.code,{children:"SequenceModule"})," is to pass it an options ",(0,i.jsx)(n.code,{children:"object"})," in the static ",(0,i.jsx)(n.code,{children:"register()"})," method. The options object is only contain one property:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"enableController"}),": enable or disable default sequence controller."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"We will create a simple example demonstrating how to use the sequence module and customize authentication for the sequence controller."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'// seq.controller.ts\nimport { SequencesController } from "@mbc-cqrs-serverless/sequence";\nimport { Controller } from "@nestjs/common";\nimport { ApiTags } from "@nestjs/swagger";\nimport { Auth } from "src/auth/auth.decorator";\nimport { ROLE } from "src/auth/role.enum";\n\n@Controller("api/sequence")\n@ApiTags("sequence")\n@Auth(ROLE.JCCI_ADMIN)\nexport class SeqController extends SequencesController {}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'// seq.module.ts\nimport { SequencesModule } from "@mbc-cqrs-serverless/sequence";\nimport { Module } from "@nestjs/common";\n\nimport { SeqController } from "./seq.controller";\n\n@Module({\n  imports: [SequencesModule.register({ enableController: false })],\n  controllers: [SeqController],\n  exports: [SequencesModule],\n})\nexport class SeqModule {}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Beside controller, we can directly use ",(0,i.jsx)(n.code,{children:"SequencesService"})," to generating sequence by injecting service."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"SequencesService"})," has four public methods (two current and two deprecated):"]}),"\n",(0,i.jsxs)(n.h3,{id:"async-generatesequenceitem-dto-generateformattedsequencedto-options-invokecontextiinvoke--promisesequenceentity",children:[(0,i.jsx)(n.em,{children:"async"})," ",(0,i.jsx)(n.code,{children:"generateSequenceItem( dto: GenerateFormattedSequenceDto, options?: {invokeContext:IInvoke}):  Promise<SequenceEntity>"})]}),"\n",(0,i.jsx)(n.p,{children:"Generates a new sequence based on the parameters provided in the GenerateFormattedSequenceDto object."}),"\n",(0,i.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"dto: GenerateFormattedSequenceDto"}),"\nThe data transfer object that customizes the behavior of the sequence generation. Its properties include:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"date?: Date"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Default: Current date."}),"\n",(0,i.jsx)(n.li,{children:"Description: Specifies the date for which the sequence is generated."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"rotateBy?: RotateByEnum"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Default: NONE."}),"\n",(0,i.jsxs)(n.li,{children:["Options","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"FISCAL_YEARLY"}),"\n",(0,i.jsx)(n.li,{children:"YEARLY"}),"\n",(0,i.jsx)(n.li,{children:"MONTHLY"}),"\n",(0,i.jsx)(n.li,{children:"DAILY"}),"\n",(0,i.jsx)(n.li,{children:"NONE"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Description: Determines the rotation type for the sequence."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"tenantCode: string"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: Yes."}),"\n",(0,i.jsx)(n.li,{children:"Description: Identifies the tenant and type code for the intended usage."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"typeCode: string"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: Yes."}),"\n",(0,i.jsx)(n.li,{children:"Description: Identifies the tenant and type code for the intended usage."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"params?: SequenceParamsDto"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: No."}),"\n",(0,i.jsxs)(n.li,{children:["Description: Defines parameters to identify the sequence.","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export class SequenceParamsDto {\n  @IsString()\n  code1: string\n\n  @IsString()\n  @IsOptional()\n  code2?: string\n\n  @IsOptional()\n  @IsString()\n  code3?: string\n\n  @IsOptional()\n  @IsString()\n  code4?: string\n\n  @IsOptional()\n  @IsString()\n  code5?: string\n\n  constructor(partial: Partial<SequenceParamsDto>) {\n    Object.assign(this, partial)\n  }\n}\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"prefix?: string"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: No."}),"\n",(0,i.jsx)(n.li,{children:"Description: Optional prefix to prepend to the formatted sequence. The prefix is added before the formatted pattern."}),"\n",(0,i.jsxs)(n.li,{children:["Example: If prefix is ",(0,i.jsx)(n.code,{children:"'INV-'"})," and format produces ",(0,i.jsx)(n.code,{children:"'2024-001'"}),", the result will be ",(0,i.jsx)(n.code,{children:"'INV-2024-001'"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"postfix?: string"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: No."}),"\n",(0,i.jsx)(n.li,{children:"Description: Optional postfix to append to the formatted sequence. The postfix is added after the formatted pattern."}),"\n",(0,i.jsxs)(n.li,{children:["Example: If postfix is ",(0,i.jsx)(n.code,{children:"'-DRAFT'"})," and format produces ",(0,i.jsx)(n.code,{children:"'2024-001'"}),", the result will be ",(0,i.jsx)(n.code,{children:"'2024-001-DRAFT'"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"response",children:"Response"}),"\n",(0,i.jsxs)(n.p,{children:["The return value of this function  has type of ",(0,i.jsx)(n.code,{children:"SequenceEntity"})," as follows:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export class SequenceEntity {\n  id: string\n  no: number\n  formattedNo: string\n  issuedAt: Date\n\n  constructor(partial: Partial<SequenceEntity>) {\n    Object.assign(this, partial)\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"customizable",children:"Customizable"}),"\n",(0,i.jsxs)(n.p,{children:["By default, the returned data includes the formattedNo field with the format ",(0,i.jsx)(n.code,{children:"%%no%%"}),", where ",(0,i.jsx)(n.code,{children:"no"})," represents the sequence number. If you want to define your own custom format, you can update the master data in DynamoDB with the following parameters:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["PK: ",(0,i.jsx)(n.code,{children:"MASTER${KEY_SEPARATOR}${tenantCode}"})]}),"\n",(0,i.jsxs)(n.li,{children:["SK: ",(0,i.jsx)(n.code,{children:"MASTER_DATA${KEY_SEPARATOR}${typeCode}"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The data structure should be as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'  {\n    "format": "string",\n    "startMonth": "number",\n    "registerDate": "string"\n  }\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,i.jsxs)(n.p,{children:["For example, if you want to add ",(0,i.jsx)(n.code,{children:"code1"})," to ",(0,i.jsx)(n.code,{children:"code5"}),", ",(0,i.jsx)(n.code,{children:"year"}),", ",(0,i.jsx)(n.code,{children:"month"}),", ",(0,i.jsx)(n.code,{children:"day"}),", ",(0,i.jsx)(n.code,{children:"date"}),", ",(0,i.jsx)(n.code,{children:"no"})," as well as ",(0,i.jsx)(n.code,{children:"fiscal_year"}),", into your format, the format would look like this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "format": "%%code2#:0>7%%-%%fiscal_year#:0>2%%-%%code3%%%%no#:0>3%%"\n} \n'})}),"\n",(0,i.jsx)(n.p,{children:"In this format:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Variables are written inside ",(0,i.jsx)(n.code,{children:"%% <param> %%."})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"After the #, the length of the variable is specified, indicating the desired length of the field when the formatted sequence number is returned.\nFor instance:"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"%%code2#:0>7%%"})," ensures code2 is formatted to be 7 characters long, padding with leading zeros if necessary."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"%%fiscal_year#:0>2%% "}),"formats fiscal_year to a length of 2 characters."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"%%code3%%"})," represents the code3 value as it is."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"%%no#:0>3%%"})," ensures the sequence number (no) is formatted to be 3 digits long, padded with leading zeros if necessary."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If you want to calculate the fiscal_year starting from any specific month, you can add the ",(0,i.jsx)(n.code,{children:"startMonth"})," field. For example, if you want the fiscal year to start from March, the format would look like this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'{\n  "format": "%%code2#:0>7%%-%%fiscal_year#:0>2%%-%%code3%%%%no#:0>3%%",\n  "startMonth": 3\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"In this case:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"startMonth: Defines the month to start the fiscal year (e.g., 3 for March)."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If you want to calculate the fiscal year starting from a specific date (e.x 2005-01-01), you can add the ",(0,i.jsx)(n.code,{children:"registerDate"})," field, like this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'{\n  "format": "%%code2#:0>7%%-%%fiscal_year#:0>2%%-%%code3%%%%no#:0>3%%",\n  "registerDate": "2005-01-01"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"In this case"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'registerDate: Defines the exact start date of the fiscal year (e.g., "2005-01-01").'}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This allows you to customize the fiscal year calculation according to your specific business needs."}),"\n",(0,i.jsxs)(n.h3,{id:"async-generatesequenceitemwithprovidesettingdto-generateformattedsequencewithprovidedsettingdto-options-invokecontext-iinvoke-promisesequenceentity",children:[(0,i.jsx)(n.em,{children:"async"})," ",(0,i.jsx)(n.code,{children:"generateSequenceItemWithProvideSetting(dto: GenerateFormattedSequenceWithProvidedSettingDto, options?: {invokeContext: IInvoke}): Promise<SequenceEntity>"})]}),"\n",(0,i.jsx)(n.p,{children:"This method allows you to generate a sequence with custom settings directly provided in the DTO, without requiring master data configuration in DynamoDB."}),"\n",(0,i.jsx)(n.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"dto: GenerateFormattedSequenceWithProvidedSettingDto"}),"\nThe data transfer object that contains both sequence parameters and format settings. Its properties include:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"date?: Date"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Default: Current date."}),"\n",(0,i.jsx)(n.li,{children:"Description: Specifies the date for which the sequence is generated."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"rotateBy?: RotateByEnum"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Default: NONE."}),"\n",(0,i.jsx)(n.li,{children:"Options: FISCAL_YEARLY, YEARLY, MONTHLY, DAILY, NONE"}),"\n",(0,i.jsx)(n.li,{children:"Description: Determines the rotation type for the sequence."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"tenantCode: string"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: Yes."}),"\n",(0,i.jsx)(n.li,{children:"Description: Identifies the tenant for the sequence."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"typeCode: string"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: Yes."}),"\n",(0,i.jsx)(n.li,{children:"Description: Identifies the type code for the sequence."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"params?: SequenceParamsDto"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: No."}),"\n",(0,i.jsx)(n.li,{children:"Description: Defines parameters to identify the sequence (code1 to code5)."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"prefix?: string"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: No."}),"\n",(0,i.jsx)(n.li,{children:"Description: Optional prefix to prepend to the formatted sequence."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"postfix?: string"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: No."}),"\n",(0,i.jsx)(n.li,{children:"Description: Optional postfix to append to the formatted sequence."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"format: string"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: Yes."}),"\n",(0,i.jsxs)(n.li,{children:["Description: Format string defining the structure of the generated sequence. Example: ",(0,i.jsx)(n.code,{children:"%%code1%%-%%no#:0>5%%"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"registerDate?: string"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: No."}),"\n",(0,i.jsx)(n.li,{children:"Description: Optional registration date (ISO 8601 format) to influence fiscal year calculation."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"startMonth?: number"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Required: No."}),"\n",(0,i.jsx)(n.li,{children:"Description: Starting month of the fiscal year (1-12). Defaults to 4 (April) if not provided."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"example-1",children:"Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const result = await this.sequencesService.generateSequenceItemWithProvideSetting(\n  {\n    tenantCode: 'tenant001',\n    typeCode: 'INVOICE',\n    format: '%%code1%%-%%no#:0>5%%',\n    rotateBy: RotateByEnum.YEARLY,\n    params: { code1: 'INV' },\n  },\n  { invokeContext },\n);\n// Returns: { formattedNo: 'INV-00001', no: 1, ... }\n"})}),"\n",(0,i.jsx)(n.p,{children:"Use this method when you need dynamic sequence settings that vary per request rather than fixed master data configuration."}),"\n",(0,i.jsx)(n.p,{children:"Example with prefix and postfix:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const result = await this.sequencesService.generateSequenceItemWithProvideSetting(\n  {\n    tenantCode: 'tenant001',\n    typeCode: 'ORDER',\n    format: '%%fiscal_year%%-%%no#:0>4%%',\n    rotateBy: RotateByEnum.FISCAL_YEARLY,\n    startMonth: 4,\n    params: { code1: 'ORD' },\n    prefix: 'ORD-',    // Prepended to formatted sequence\n    postfix: '-DRAFT', // Appended to formatted sequence\n  },\n  { invokeContext },\n);\n// Returns: { formattedNo: 'ORD-2024-0001-DRAFT', no: 1, ... }\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"async-getcurrentsequencekey-detailkey-promisedataentity-deprecated",children:[(0,i.jsx)(n.em,{children:"async"})," ",(0,i.jsx)(n.code,{children:"getCurrentSequence(key: DetailKey): Promise<DataEntity>"})," ",(0,i.jsx)("span",{class:"badge badge--warning",children:"deprecated"})]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Deprecated, for removal: This API element is subject to removal in a future version."})}),"\n",(0,i.jsxs)(n.h3,{id:"async-gennewsequence-dto-generatesequencedto-options-invokecontext-iinvoke-promisedataentity-deprecated",children:[(0,i.jsx)(n.em,{children:"async"})," ",(0,i.jsx)(n.code,{children:"genNewSequence( dto: GenerateSequenceDto, options: {invokeContext: IInvoke}): Promise<DataEntity>"})," ",(0,i.jsx)("span",{class:"badge badge--warning",children:"deprecated"})]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Deprecated, for removal: This API element is subject to removal in a future version. Use ",(0,i.jsxs)(n.a,{href:"#async-generatesequenceitem-dto-generateformattedsequencedto-options-invokecontextiinvoke--promisesequenceentity",children:[(0,i.jsx)(n.code,{children:"generateSequenceItem"})," method"]})," instead."]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>o});var s=t(6540);const i={},r=s.createContext(i);function c(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);