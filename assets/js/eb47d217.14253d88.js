"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[6803],{5036:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"ai-prompts","title":"AI Prompts Library","description":"Optimized prompts for AI-assisted development with MBC CQRS Serverless.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/ai-prompts.md","sourceDirName":".","slug":"/ai-prompts","permalink":"/docs/ai-prompts","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"description":"Optimized prompts for AI-assisted development with MBC CQRS Serverless."},"sidebar":"tutorialSidebar","previous":{"title":"MCP Server","permalink":"/docs/mcp-server"},"next":{"title":"Helper Functions","permalink":"/docs/helpers"}}');var r=t(4848),a=t(8453);const s={sidebar_position:3,description:"Optimized prompts for AI-assisted development with MBC CQRS Serverless."},o="AI Prompts Library",l={},d=[{value:"Module Generation",id:"module-generation",level:2},{value:"Create a New CQRS Module",id:"create-a-new-cqrs-module",level:3},{value:"Create a Module with RDS Sync",id:"create-a-module-with-rds-sync",level:3},{value:"Command Operations",id:"command-operations",level:2},{value:"Implement Async Command",id:"implement-async-command",level:3},{value:"Implement Sync Command",id:"implement-sync-command",level:3},{value:"Query Operations",id:"query-operations",level:2},{value:"List Query with Filters",id:"list-query-with-filters",level:3},{value:"Detail Query",id:"detail-query",level:3},{value:"Event Handling",id:"event-handling",level:2},{value:"Create Custom Event Handler",id:"create-custom-event-handler",level:3},{value:"DynamoDB Stream Handler",id:"dynamodb-stream-handler",level:3},{value:"Data Sync",id:"data-sync",level:2},{value:"Create Data Sync Handler",id:"create-data-sync-handler",level:3},{value:"Multi-Tenancy",id:"multi-tenancy",level:2},{value:"Implement Tenant-Aware Feature",id:"implement-tenant-aware-feature",level:3},{value:"Testing",id:"testing",level:2},{value:"Unit Test for Command Handler",id:"unit-test-for-command-handler",level:3},{value:"Integration Test",id:"integration-test",level:3},{value:"Debugging",id:"debugging",level:2},{value:"Diagnose Version Conflict",id:"diagnose-version-conflict",level:3},{value:"Diagnose Data Sync Issues",id:"diagnose-data-sync-issues",level:3},{value:"Diagnose Event Processing",id:"diagnose-event-processing",level:3},{value:"Architecture Review",id:"architecture-review",level:2},{value:"Review Module Implementation",id:"review-module-implementation",level:3},{value:"Review for Production Readiness",id:"review-for-production-readiness",level:3},{value:"Migration",id:"migration",level:2},{value:"Create Migration for Schema Change",id:"create-migration-for-schema-change",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ai-prompts-library",children:"AI Prompts Library"})}),"\n",(0,r.jsx)(n.p,{children:"This page provides optimized prompts for common development tasks when using AI assistants with the MBC CQRS Serverless framework."}),"\n",(0,r.jsx)(n.h2,{id:"module-generation",children:"Module Generation"}),"\n",(0,r.jsx)(n.h3,{id:"create-a-new-cqrs-module",children:"Create a New CQRS Module"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Create a new CQRS module for [FEATURE_NAME] in MBC CQRS Serverless with:\n- CommandModule registration with table name "[TABLE_NAME]"\n- Command handlers: Create, Update, Delete (async processing)\n- DataService for queries: list with pagination, getById\n- Entity extending DataEntity with attributes\n- DTOs for create, update, and response\n- Follow existing patterns in the codebase\n'})}),"\n",(0,r.jsx)(n.h3,{id:"create-a-module-with-rds-sync",children:"Create a Module with RDS Sync"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Create a CQRS module for [FEATURE_NAME] that syncs data to RDS:\n- CommandModule with DataSyncHandler for RDS\n- TypeORM entity for the RDS table\n- Prisma schema if using Prisma\n- Handle create, update, and delete sync operations\n- Include error handling for sync failures\n"})}),"\n",(0,r.jsx)(n.h2,{id:"command-operations",children:"Command Operations"}),"\n",(0,r.jsx)(n.h3,{id:"implement-async-command",children:"Implement Async Command"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Implement an async command handler for [OPERATION] in MBC CQRS Serverless:\n- Use publishAsync for immediate response\n- Include input validation in DTO\n- Set appropriate command source\n- Handle optimistic locking with version\n- Follow the existing command pattern in this codebase\n"})}),"\n",(0,r.jsx)(n.h3,{id:"implement-sync-command",children:"Implement Sync Command"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Implement a synchronous command for [OPERATION] that waits for completion:\n- Use publishSync method\n- Return the fully processed result\n- Include proper error handling\n- Consider timeout implications\n"})}),"\n",(0,r.jsx)(n.h2,{id:"query-operations",children:"Query Operations"}),"\n",(0,r.jsx)(n.h3,{id:"list-query-with-filters",children:"List Query with Filters"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Implement a list query for [ENTITY] with:\n- Pagination support (limit, cursor)\n- Filter by [FIELD_NAMES]\n- Sort options\n- Use DataService.listItems with skExpression\n- Return paginated response with items and cursor\n"})}),"\n",(0,r.jsx)(n.h3,{id:"detail-query",children:"Detail Query"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Implement a detail query to get [ENTITY] by ID:\n- Use DataService.getItem\n- Handle VERSION_LATEST for latest version\n- Include proper error handling for not found\n- Serialize response for API output\n"})}),"\n",(0,r.jsx)(n.h2,{id:"event-handling",children:"Event Handling"}),"\n",(0,r.jsx)(n.h3,{id:"create-custom-event-handler",children:"Create Custom Event Handler"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Create a custom event handler for [EVENT_TYPE] in MBC CQRS Serverless:\n- Extend appropriate event class (DynamoDbEvent, SqsEvent, etc.)\n- Implement IEventHandler interface\n- Register handler in EventHandlerModule\n- Include error handling and logging\n- Follow the event handling patterns in the codebase\n"})}),"\n",(0,r.jsx)(n.h3,{id:"dynamodb-stream-handler",children:"DynamoDB Stream Handler"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Create a DynamoDB stream handler to [PURPOSE]:\n- Process INSERT, MODIFY, REMOVE events\n- Filter by table name if needed\n- Extract old and new images\n- Implement idempotent processing\n- Handle errors appropriately\n"})}),"\n",(0,r.jsx)(n.h2,{id:"data-sync",children:"Data Sync"}),"\n",(0,r.jsx)(n.h3,{id:"create-data-sync-handler",children:"Create Data Sync Handler"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Create a DataSyncHandler to sync [ENTITY] to [TARGET]:\n- Implement IDataSyncHandler interface\n- Handle up() for create/update operations\n- Handle down() for delete operations\n- Use transactions where appropriate\n- Include error handling and rollback logic\n"})}),"\n",(0,r.jsx)(n.h2,{id:"multi-tenancy",children:"Multi-Tenancy"}),"\n",(0,r.jsx)(n.h3,{id:"implement-tenant-aware-feature",children:"Implement Tenant-Aware Feature"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Implement [FEATURE] with multi-tenancy support:\n- Extract tenantCode from invocation context\n- Use tenant-prefixed partition keys\n- Apply tenant isolation in queries\n- Include tenant validation\n- Follow existing tenant patterns in the codebase\n"})}),"\n",(0,r.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,r.jsx)(n.h3,{id:"unit-test-for-command-handler",children:"Unit Test for Command Handler"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Write unit tests for [COMMAND_HANDLER]:\n- Mock CommandService and dependencies\n- Test successful command execution\n- Test validation errors\n- Test version conflict handling\n- Use Jest with AWS SDK mocks\n"})}),"\n",(0,r.jsx)(n.h3,{id:"integration-test",children:"Integration Test"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Write integration tests for [FEATURE]:\n- Set up test DynamoDB tables\n- Test full command-query flow\n- Verify data sync if applicable\n- Clean up test data after each test\n- Use LocalStack for local testing\n"})}),"\n",(0,r.jsx)(n.h2,{id:"debugging",children:"Debugging"}),"\n",(0,r.jsx)(n.h3,{id:"diagnose-version-conflict",children:"Diagnose Version Conflict"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"I'm getting a \"version not match\" error when updating [ENTITY].\nPlease help me:\n1. Understand why this error occurs in CQRS/Event Sourcing\n2. Check if I'm using the correct version in my update\n3. Suggest how to handle concurrent updates properly\n4. Show me how to implement retry logic if needed\n"})}),"\n",(0,r.jsx)(n.h3,{id:"diagnose-data-sync-issues",children:"Diagnose Data Sync Issues"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Data is not syncing to RDS for [ENTITY]. Please help me:\n1. Check if DataSyncHandler is properly registered\n2. Verify the sync handler implementation\n3. Check for errors in the sync process\n4. Suggest debugging steps and logging\n"})}),"\n",(0,r.jsx)(n.h3,{id:"diagnose-event-processing",children:"Diagnose Event Processing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Events are not being processed for [EVENT_TYPE]. Please check:\n1. Event handler registration in the module\n2. Event class implementation\n3. SQS/SNS configuration\n4. Error handling and dead letter queue setup\n"})}),"\n",(0,r.jsx)(n.h2,{id:"architecture-review",children:"Architecture Review"}),"\n",(0,r.jsx)(n.h3,{id:"review-module-implementation",children:"Review Module Implementation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Review this [MODULE_NAME] module implementation for:\n- Proper CQRS pattern adherence (command/query separation)\n- Event sourcing best practices\n- Multi-tenancy implementation\n- Error handling completeness\n- Performance considerations\n- Security best practices\n"})}),"\n",(0,r.jsx)(n.h3,{id:"review-for-production-readiness",children:"Review for Production Readiness"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Review [FEATURE] for production readiness:\n- Error handling and recovery\n- Logging and monitoring\n- Performance under load\n- Security vulnerabilities\n- Data consistency guarantees\n- Rollback procedures\n"})}),"\n",(0,r.jsx)(n.h2,{id:"migration",children:"Migration"}),"\n",(0,r.jsx)(n.h3,{id:"create-migration-for-schema-change",children:"Create Migration for Schema Change"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Create a migration for [SCHEMA_CHANGE]:\n- TypeORM migration file\n- Handle existing data transformation\n- Include rollback procedure\n- Test with sample data\n- Document breaking changes if any\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.p,{children:"When using these prompts:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Be Specific"}),": Replace placeholders with actual names and requirements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Provide Context"}),": Include relevant code snippets or file paths"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reference Existing Code"}),": Point to similar implementations in your codebase"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Specify Constraints"}),": Mention any performance, security, or compatibility requirements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Request Explanations"}),": Ask AI to explain its implementation choices"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./ai-integration",children:"AI Integration"})," - Overview of AI tool support"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./mcp-server",children:"MCP Server"})," - Dynamic AI integration via MCP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./error-catalog",children:"Error Catalog"})," - Common errors and solutions"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var i=t(6540);const r={},a=i.createContext(r);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);