"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[6329],{600:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>o,frontMatter:()=>d,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"email-service","title":"EmailService","description":"EmailService","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/email-service.md","sourceDirName":".","slug":"/email-service","permalink":"/docs/email-service","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"description":"EmailService"},"sidebar":"tutorialSidebar","previous":{"title":"Notification","permalink":"/docs/notification-module"},"next":{"title":"UI Setting","permalink":"/docs/ui-setting"}}');var c=i(4848),s=i(8453);const d={description:"EmailService"},r="EmailService",l={},a=[{value:"Description",id:"description",level:2},{value:"Methods",id:"methods",level:2},{value:"<em>async</em> <code>sendEmail(msg: EmailNotification): Promise&lt;any&gt;</code>",id:"async-sendemailmsg-emailnotification-promiseany",level:3},{value:"Basic Example",id:"basic-example",level:4},{value:"With CC and BCC",id:"with-cc-and-bcc",level:4},{value:"With Attachments",id:"with-attachments",level:4},{value:"Multiple Attachments",id:"multiple-attachments",level:4},{value:"EmailNotification Interface",id:"emailnotification-interface",level:2},{value:"Attachment Interface",id:"attachment-interface",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"emailservice",children:"EmailService"})}),"\n",(0,c.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,c.jsxs)(n.p,{children:["This service is designed to send emails using ",(0,c.jsx)(n.a,{href:"https://aws.amazon.com/ses/",children:"AWS SES (Simple Email Service)"}),"."]}),"\n",(0,c.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,c.jsxs)(n.h3,{id:"async-sendemailmsg-emailnotification-promiseany",children:[(0,c.jsx)(n.em,{children:"async"})," ",(0,c.jsx)(n.code,{children:"sendEmail(msg: EmailNotification): Promise<any>"})]}),"\n",(0,c.jsx)(n.p,{children:"Composes an email message and immediately queues it for sending."}),"\n",(0,c.jsx)(n.h4,{id:"basic-example",children:"Basic Example"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",children:'const email = "cat@example.com";\nconst subject = "Welcome to MBC CQRS serverless framework!";\nconst body = "<p>Enjoy</p>";\n\nawait this.mailService.sendEmail({\n  toAddrs: [email],\n  subject,\n  body,\n});\n'})}),"\n",(0,c.jsx)(n.h4,{id:"with-cc-and-bcc",children:"With CC and BCC"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",children:'await this.mailService.sendEmail({\n  toAddrs: ["recipient@example.com"],\n  ccAddrs: ["cc@example.com"],\n  bccAddrs: ["bcc@example.com"],\n  subject: "Meeting Invitation",\n  body: "<p>Please join our meeting.</p>",\n});\n'})}),"\n",(0,c.jsx)(n.h4,{id:"with-attachments",children:"With Attachments"}),"\n",(0,c.jsx)(n.p,{children:"You can attach files to emails by providing an array of attachment objects:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",children:'await this.mailService.sendEmail({\n  toAddrs: ["recipient@example.com"],\n  subject: "Report Attached",\n  body: "<p>Please find the attached report.</p>",\n  attachments: [\n    {\n      filename: "report.pdf",\n      content: pdfBuffer,\n      contentType: "application/pdf",\n    },\n  ],\n});\n'})}),"\n",(0,c.jsx)(n.h4,{id:"multiple-attachments",children:"Multiple Attachments"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",children:'await this.mailService.sendEmail({\n  toAddrs: ["recipient@example.com"],\n  subject: "Documents",\n  body: "<p>Please find the attached documents.</p>",\n  attachments: [\n    {\n      filename: "document.pdf",\n      content: pdfBuffer,\n      contentType: "application/pdf",\n    },\n    {\n      filename: "image.jpg",\n      content: imageBuffer,\n      contentType: "image/jpeg",\n    },\n    {\n      filename: "data.csv",\n      content: csvBuffer,\n      contentType: "text/csv",\n    },\n  ],\n});\n'})}),"\n",(0,c.jsx)(n.h2,{id:"emailnotification-interface",children:"EmailNotification Interface"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Property"}),(0,c.jsx)(n.th,{children:"Type"}),(0,c.jsx)(n.th,{children:"Required"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"fromAddr"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string"})}),(0,c.jsx)(n.td,{children:"No"}),(0,c.jsx)(n.td,{children:"Sender email address (uses default if not specified)"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"toAddrs"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string[]"})}),(0,c.jsx)(n.td,{children:"Yes"}),(0,c.jsx)(n.td,{children:"List of recipient email addresses"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"ccAddrs"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string[]"})}),(0,c.jsx)(n.td,{children:"No"}),(0,c.jsx)(n.td,{children:"CC recipients"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"bccAddrs"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string[]"})}),(0,c.jsx)(n.td,{children:"No"}),(0,c.jsx)(n.td,{children:"BCC recipients"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"subject"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string"})}),(0,c.jsx)(n.td,{children:"Yes"}),(0,c.jsx)(n.td,{children:"Email subject line"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"body"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string"})}),(0,c.jsx)(n.td,{children:"Yes"}),(0,c.jsx)(n.td,{children:"Email body as HTML"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"replyToAddrs"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string[]"})}),(0,c.jsx)(n.td,{children:"No"}),(0,c.jsx)(n.td,{children:"Reply-to addresses"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"attachments"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"Attachment[]"})}),(0,c.jsx)(n.td,{children:"No"}),(0,c.jsx)(n.td,{children:"File attachments"})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"attachment-interface",children:"Attachment Interface"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Property"}),(0,c.jsx)(n.th,{children:"Type"}),(0,c.jsx)(n.th,{children:"Required"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"filename"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string"})}),(0,c.jsx)(n.td,{children:"Yes"}),(0,c.jsx)(n.td,{children:"Filename shown to recipient"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"content"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"Buffer"})}),(0,c.jsx)(n.td,{children:"Yes"}),(0,c.jsx)(n.td,{children:"File content as Buffer"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"contentType"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string"})}),(0,c.jsx)(n.td,{children:"No"}),(0,c.jsx)(n.td,{children:"MIME type (e.g., 'application/pdf')"})]})]})]})]})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>r});var t=i(6540);const c={},s=t.createContext(c);function d(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);