{
  "Learn data migration strategies for cross-tenant operations, schema evolution, and bulk data processing in MBC CQRS Serverless.": "Learn data migration strategies for cross-tenant operations, schema evolution, and bulk data processing in MBC CQRS Serverless.",
  "Data Migration Patterns": "Data Migration Patterns",
  "This guide covers data migration strategies in MBC CQRS Serverless applications, including cross-tenant data migration, schema evolution, bulk data operations using the Import module, and rollback procedures.": "This guide covers data migration strategies in MBC CQRS Serverless applications, including cross-tenant data migration, schema evolution, bulk data operations using the Import module, and rollback procedures.",
  "When to Use This Guide": "When to Use This Guide",
  "Use this guide when you need to:": "Use this guide when you need to:",
  "Migrate data between tenants": "Migrate data between tenants",
  "Evolve data schemas while maintaining compatibility": "Evolve data schemas while maintaining compatibility",
  "Perform bulk data operations with the Import module": "Perform bulk data operations with the Import module",
  "Implement rollback procedures for failed migrations": "Implement rollback procedures for failed migrations",
  "Validate data during migration processes": "Validate data during migration processes",
  "Migration Architecture Overview": "Migration Architecture Overview",
  "Data Migration Flow": "Data Migration Flow",
  "Source": "Source",
  "Data": "Data",
  "Transform": "Transform",
  "Validate": "Validate",
  "Target": "Target",
  "Import": "Import",
  "Module": "Module",
  "Strategy": "Strategy",
  "CommandSvc": "CommandSvc",
  "(Version)": "(Version)",
  "DynamoDB": "DynamoDB",
  "(History)": "(History)",
  "Cross-Tenant Data Migration": "Cross-Tenant Data Migration",
  "Pattern 1: Copy Data Between Tenants": "Pattern 1: Copy Data Between Tenants",
  "Copy data from one tenant to another using the CommandService. This preserves the event sourcing history in the target tenant.": "Copy data from one tenant to another using the CommandService. This preserves the event sourcing history in the target tenant.",
  "Copy all entities of a type from source to target tenant": "Copy all entities of a type from source to target tenant",
  "Create new keys for target tenant": "Create new keys for target tenant",
  "Track migration source": "Track migration source",
  "Pattern 2: Bulk Migration with Import Module": "Pattern 2: Bulk Migration with Import Module",
  "Use the Import module for large-scale cross-tenant migrations with transformation support.": "Use the Import module for large-scale cross-tenant migrations with transformation support.",
  "Transform source data to target tenant format": "Transform source data to target tenant format",
  "Extract entity type from source PK": "Extract entity type from source PK",
  "Build target keys": "Build target keys",
  "Add migration metadata": "Add migration metadata",
  "Schema Evolution Strategies": "Schema Evolution Strategies",
  "Strategy 1: Backward Compatible Changes": "Strategy 1: Backward Compatible Changes",
  "Add new fields with default values. Existing data continues to work without migration.": "Add new fields with default values. Existing data continues to work without migration.",
  "Backward compatible attribute evolution": "Backward compatible attribute evolution",
  "New optional field": "New optional field",
  "Get product with schema version handling": "Get product with schema version handling",
  "Apply defaults for missing fields": "Apply defaults for missing fields",
  "Strategy 2: Data Transformation Migration": "Strategy 2: Data Transformation Migration",
  "Transform existing data to a new schema format using the Import module strategies.": "Transform existing data to a new schema format using the Import module strategies.",
  "Old field name": "Old field name",
  "Renamed field": "Renamed field",
  "New field name": "New field name",
  "Schema version marker": "Schema version marker",
  "Compare to detect schema version differences": "Compare to detect schema version differences",
  "Check if data needs transformation": "Check if data needs transformation",
  "Check schema version": "Check schema version",
  "Map old schema to new schema": "Map old schema to new schema",
  "Transform field names": "Transform field names",
  "Strategy 3: Versioned Attributes Pattern": "Strategy 3: Versioned Attributes Pattern",
  "Store schema version in attributes for gradual migration.": "Store schema version in attributes for gradual migration.",
  "Register migration functions": "Register migration functions",
  "Apply all necessary migrations to bring attributes to current version": "Apply all necessary migrations to bring attributes to current version",
  "V1 to V2: Split fullName into firstName and lastName": "V1 to V2: Split fullName into firstName and lastName",
  "V2 to V3: Add new required fields with defaults": "V2 to V3: Add new required fields with defaults",
  "Using Import Module for Bulk Operations": "Using Import Module for Bulk Operations",
  "CSV-Based Bulk Migration": "CSV-Based Bulk Migration",
  "Export data to CSV, transform, and re-import using the Import module.": "Export data to CSV, transform, and re-import using the Import module.",
  "Export entities to CSV for migration": "Export entities to CSV for migration",
  "Build CSV with migration columns": "Build CSV with migration columns",
  "Upload to S3": "Upload to S3",
  "Create migration import job": "Create migration import job",
  "Import module handles the migration via configured strategy": "Import module handles the migration via configured strategy",
  "The strategy will transform data to target tenant format": "The strategy will transform data to target tenant format",
  "Actual job creation would use ImportModule API": "Actual job creation would use ImportModule API",
  "Import Process Strategy for Migration": "Import Process Strategy for Migration",
  "Implement a process strategy that handles migration-specific logic.": "Implement a process strategy that handles migration-specific logic.",
  "Compare migrated data with existing target data": "Compare migrated data with existing target data",
  "Check if already migrated": "Check if already migrated",
  "Data exists but not migrated - update it": "Data exists but not migrated - update it",
  "Map migration data to command payload": "Map migration data to command payload",
  "Create new record": "Create new record",
  "Update existing record": "Update existing record",
  "Rollback Procedures": "Rollback Procedures",
  "Event Sourcing Based Rollback": "Event Sourcing Based Rollback",
  "Leverage the history table to restore previous versions.": "Leverage the history table to restore previous versions.",
  "Rollback entity to a specific version": "Rollback entity to a specific version",
  "Get historical version": "Get historical version",
  "Get current version for optimistic locking": "Get current version for optimistic locking",
  "Restore to historical state": "Restore to historical state",
  "Rollback migration by timestamp": "Rollback migration by timestamp",
  "Check if item was part of the migration": "Check if item was part of the migration",
  "Find version before migration": "Find version before migration",
  "Soft Delete Pattern for Safe Rollback": "Soft Delete Pattern for Safe Rollback",
  "Use soft delete to enable easy recovery.": "Use soft delete to enable easy recovery.",
  "Migrate with soft delete for rollback capability": "Migrate with soft delete for rollback capability",
  "Create new record in target": "Create new record in target",
  "Soft delete original (don't hard delete)": "Soft delete original (don't hard delete)",
  "Rollback by restoring soft-deleted records": "Rollback by restoring soft-deleted records",
  "Restore original records": "Restore original records",
  "Hard delete migrated records": "Hard delete migrated records",
  "Data Validation During Migration": "Data Validation During Migration",
  "Pre-Migration Validation": "Pre-Migration Validation",
  "Validate data before starting migration.": "Validate data before starting migration.",
  "Validate all records before migration": "Validate all records before migration",
  "Validate referential integrity": "Validate referential integrity",
  "Post-Migration Verification": "Post-Migration Verification",
  "Verify data integrity after migration.": "Verify data integrity after migration.",
  "Verify migration completed successfully": "Verify migration completed successfully",
  "Find items in source but not in target": "Find items in source but not in target",
  "Find items in target but not in source": "Find items in target but not in source",
  "Compare data content between source and target": "Compare data content between source and target",
  "Best Practices": "Best Practices",
  "1. Always Use Transactions When Possible": "1. Always Use Transactions When Possible",
  "DynamoDB transactions ensure atomic operations:": "DynamoDB transactions ensure atomic operations:",
  "Use batch writes for related items": "Use batch writes for related items",
  "2. Track Migration Metadata": "2. Track Migration Metadata",
  "Store migration information for auditing:": "Store migration information for auditing:",
  "3. Implement Idempotent Migrations": "3. Implement Idempotent Migrations",
  "Make migrations safe to re-run:": "Make migrations safe to re-run:",
  "Check if already migrated before processing": "Check if already migrated before processing",
  "4. Use Batch Processing for Large Datasets": "4. Use Batch Processing for Large Datasets",
  "Process in batches to avoid timeouts and memory issues:": "Process in batches to avoid timeouts and memory issues:",
  "DynamoDB limit": "DynamoDB limit",
  "5. Create Migration Checkpoints": "5. Create Migration Checkpoints",
  "Save progress for resumable migrations:": "Save progress for resumable migrations:",
  "Resume from checkpoint if migration was interrupted": "Resume from checkpoint if migration was interrupted",
  "Related Documentation": "Related Documentation",
  "[Import/Export Patterns](./import-export-patterns) - Bulk data operations": "[Import/Export Patterns](./import-export-patterns) - Bulk data operations",
  "[Multi-Tenant Patterns](./multi-tenant-patterns) - Tenant isolation strategies": "[Multi-Tenant Patterns](./multi-tenant-patterns) - Tenant isolation strategies",
  "[Data Sync Handler Examples](./data-sync-handler-examples) - Sync handler patterns": "[Data Sync Handler Examples](./data-sync-handler-examples) - Sync handler patterns",
  "[Version Conflict Guide](./version-conflict-guide) - Handling version conflicts": "[Version Conflict Guide](./version-conflict-guide) - Handling version conflicts",
  "Tenant Code Normalization Migration": "Tenant Code Normalization Migration",
  "Breaking Change": "Breaking Change",
  "The `getUserContext()` function normalizes `tenantCode` to lowercase. This is a breaking change that affects data access if your existing data uses uppercase tenant codes in partition keys.": "The `getUserContext()` function normalizes `tenantCode` to lowercase. This is a breaking change that affects data access if your existing data uses uppercase tenant codes in partition keys.",
  "Understanding the Impact": "Understanding the Impact",
  "The framework normalizes tenant codes to lowercase for case-insensitive matching:": "The framework normalizes tenant codes to lowercase for case-insensitive matching:",
  "Before: Cognito stores uppercase": "Before: Cognito stores uppercase",
  "After: getUserContext() returns lowercase": "After: getUserContext() returns lowercase",
  "Partition key generation uses lowercase": "Partition key generation uses lowercase",
  "**The problem:** If your existing DynamoDB data has partition keys with uppercase tenant codes (e.g., `PRODUCT#MY_TENANT`), queries using the normalized lowercase tenant code will not find that data.": "**The problem:** If your existing DynamoDB data has partition keys with uppercase tenant codes (e.g., `PRODUCT#MY_TENANT`), queries using the normalized lowercase tenant code will not find that data.",
  "Migration Strategy 1: Update DynamoDB Data": "Migration Strategy 1: Update DynamoDB Data",
  "Migrate existing DynamoDB data to use lowercase tenant codes in partition keys.": "Migrate existing DynamoDB data to use lowercase tenant codes in partition keys.",
  "Migrate all entities of a type to lowercase tenant codes": "Migrate all entities of a type to lowercase tenant codes",
  "Scan for items with uppercase tenant codes": "Scan for items with uppercase tenant codes",
  "Already lowercase or no tenant code": "Already lowercase or no tenant code",
  "Create new record with lowercase tenant code": "Create new record with lowercase tenant code",
  "New entity": "New entity",
  "Mark old record as migrated (soft delete)": "Mark old record as migrated (soft delete)",
  "Implement scanning logic to find items with uppercase tenant codes": "Implement scanning logic to find items with uppercase tenant codes",
  "Filter for PKs that start with entityPrefix and contain uppercase letters": "Filter for PKs that start with entityPrefix and contain uppercase letters",
  "Migration Strategy 2: Update Cognito User Attributes": "Migration Strategy 2: Update Cognito User Attributes",
  "Update Cognito user attributes to use lowercase tenant codes. This approach avoids data migration but requires Cognito admin access.": "Update Cognito user attributes to use lowercase tenant codes. This approach avoids data migration but requires Cognito admin access.",
  "Migrate all users' custom:tenant to lowercase": "Migrate all users' custom:tenant to lowercase",
  "Already lowercase": "Already lowercase",
  "Update tenant attribute": "Update tenant attribute",
  "Update roles if they contain tenant references": "Update roles if they contain tenant references",
  "Migration Strategy 3: Dual-Read Approach": "Migration Strategy 3: Dual-Read Approach",
  "For a gradual migration, implement a dual-read approach that tries both lowercase and uppercase tenant codes.": "For a gradual migration, implement a dual-read approach that tries both lowercase and uppercase tenant codes.",
  "Get item with fallback to uppercase tenant code": "Get item with fallback to uppercase tenant code",
  "Try lowercase first (new format)": "Try lowercase first (new format)",
  "Fallback to uppercase (legacy format)": "Fallback to uppercase (legacy format)",
  "Log for tracking migration progress": "Log for tracking migration progress",
  "List items with fallback to uppercase tenant code": "List items with fallback to uppercase tenant code",
  "Query both partitions": "Query both partitions",
  "Merge results, preferring lowercase (newer) data": "Merge results, preferring lowercase (newer) data",
  "Overwrites uppercase if exists": "Overwrites uppercase if exists",
  "Migration Checklist": "Migration Checklist",
  "Follow this checklist when migrating to lowercase tenant codes:": "Follow this checklist when migrating to lowercase tenant codes:",
  "**Backup all data** before migration": "**Backup all data** before migration",
  "**Identify affected tables** - scan for uppercase tenant codes in PKs": "**Identify affected tables** - scan for uppercase tenant codes in PKs",
  "**Choose migration strategy:**": "**Choose migration strategy:**",
  "Strategy 1: Update DynamoDB data (recommended for clean migration)": "Strategy 1: Update DynamoDB data (recommended for clean migration)",
  "Strategy 2: Update Cognito attributes (if data is already lowercase)": "Strategy 2: Update Cognito attributes (if data is already lowercase)",
  "Strategy 3: Dual-read (for gradual migration with minimal downtime)": "Strategy 3: Dual-read (for gradual migration with minimal downtime)",
  "**Test migration** in a non-production environment": "**Test migration** in a non-production environment",
  "**Run migration** during low-traffic period": "**Run migration** during low-traffic period",
  "**Verify data access** after migration": "**Verify data access** after migration",
  "**Update RDS data** if using RDS sync (tenantCode column)": "**Update RDS data** if using RDS sync (tenantCode column)",
  "**Remove legacy data** after confirming successful migration": "**Remove legacy data** after confirming successful migration",
  "RDS Migration": "RDS Migration",
  "If you're using RDS sync, you also need to update the `tenantCode` column:": "If you're using RDS sync, you also need to update the `tenantCode` column:",
  "Update tenantCode to lowercase in RDS": "Update tenantCode to lowercase in RDS",
  "Verification Script": "Verification Script",
  "After migration, verify that all data is accessible:": "After migration, verify that all data is accessible:",
  "Check lowercase data exists": "Check lowercase data exists",
  "Check no uppercase data remains": "Check no uppercase data remains"
}
