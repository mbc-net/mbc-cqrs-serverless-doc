"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[5630],{7295:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"dynamodb","title":"DynamoDB","description":"MBC CQRS Serverless\u306b\u304a\u3051\u308bDynamoDB\u30c6\u30fc\u30d6\u30eb\u306e\u8a2d\u8a08\u3068\u7ba1\u7406\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/dynamodb.md","sourceDirName":".","slug":"/dynamodb","permalink":"/ja/docs/dynamodb","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"description":"MBC CQRS Serverless\u306b\u304a\u3051\u308bDynamoDB\u30c6\u30fc\u30d6\u30eb\u306e\u8a2d\u8a08\u3068\u7ba1\u7406\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002"},"sidebar":"tutorialSidebar","previous":{"title":"Step Functions","permalink":"/ja/docs/architecture/step-functions"},"next":{"title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u9078\u629e\u30ac\u30a4\u30c9","permalink":"/ja/docs/database-selection-guide"}}');var r=d(4848),i=d(8453);const l={description:"MBC CQRS Serverless\u306b\u304a\u3051\u308bDynamoDB\u30c6\u30fc\u30d6\u30eb\u306e\u8a2d\u8a08\u3068\u7ba1\u7406\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002"},c="DynamoDB",t={},h=[{value:"\u6982\u8981",id:"\u6982\u8981",level:2},{value:"\u30c6\u30fc\u30d6\u30eb\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",id:"\u30c6\u30fc\u30d6\u30eb\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",level:2},{value:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30c6\u30fc\u30d6\u30eb",id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30c6\u30fc\u30d6\u30eb",level:3},{value:"\u30b7\u30b9\u30c6\u30e0\u30c6\u30fc\u30d6\u30eb",id:"\u30b7\u30b9\u30c6\u30e0\u30c6\u30fc\u30d6\u30eb",level:3},{value:"\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9",id:"\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9",level:2},{value:"\u30b9\u30c6\u30c3\u30d71: \u8a2d\u5b9a\u3067\u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9",id:"\u30b9\u30c6\u30c3\u30d71-\u8a2d\u5b9a\u3067\u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9",level:3},{value:"\u30b9\u30c6\u30c3\u30d72: \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c",id:"\u30b9\u30c6\u30c3\u30d72-\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c",level:3},{value:"\u30b7\u30b9\u30c6\u30e0\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9",id:"system-table-definitions",level:3},{value:"\u30ad\u30fc\u8a2d\u8a08\u30d1\u30bf\u30fc\u30f3",id:"\u30ad\u30fc\u8a2d\u8a08\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u6a19\u6e96\u30ad\u30fc\u69cb\u9020",id:"\u6a19\u6e96\u30ad\u30fc\u69cb\u9020",level:3},{value:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30ad\u30fc\u306e\u4f8b",id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30ad\u30fc\u306e\u4f8b",level:3},{value:"\u30c6\u30fc\u30d6\u30eb\u5c5e\u6027",id:"\u30c6\u30fc\u30d6\u30eb\u5c5e\u6027",level:2},{value:"\u5171\u901a\u5c5e\u6027",id:"\u5171\u901a\u5c5e\u6027",level:3},{value:"\u30b3\u30de\u30f3\u30c9\u56fa\u6709\u306e\u5c5e\u6027",id:"\u30b3\u30de\u30f3\u30c9\u56fa\u6709\u306e\u5c5e\u6027",level:3},{value:"\u5c65\u6b74\u56fa\u6709\u306e\u5c5e\u6027",id:"\u5c65\u6b74\u56fa\u6709\u306e\u5c5e\u6027",level:3},{value:"\u30bb\u30ab\u30f3\u30c0\u30ea\u30a4\u30f3\u30c7\u30c3\u30af\u30b9",id:"\u30bb\u30ab\u30f3\u30c0\u30ea\u30a4\u30f3\u30c7\u30c3\u30af\u30b9",level:2},{value:"\u30b0\u30ed\u30fc\u30d0\u30eb\u30bb\u30ab\u30f3\u30c0\u30ea\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u8ffd\u52a0",id:"\u30b0\u30ed\u30fc\u30d0\u30eb\u30bb\u30ab\u30f3\u30c0\u30ea\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u8ffd\u52a0",level:3},{value:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:2},{value:"\u30ad\u30fc\u8a2d\u8a08",id:"\u30ad\u30fc\u8a2d\u8a08",level:3},{value:"\u30af\u30a8\u30ea\u6700\u9069\u5316",id:"\u30af\u30a8\u30ea\u6700\u9069\u5316",level:3},{value:"\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u30d7\u30e9\u30f3\u30cb\u30f3\u30b0",id:"\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u30d7\u30e9\u30f3\u30cb\u30f3\u30b0",level:3},{value:"\u30ed\u30fc\u30ab\u30eb\u958b\u767a",id:"\u30ed\u30fc\u30ab\u30eb\u958b\u767a",level:2},{value:"DynamoDB Local",id:"dynamodb-local",level:3},{value:"\u74b0\u5883\u5909\u6570",id:"\u74b0\u5883\u5909\u6570",level:3},{value:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",id:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",level:2}];function j(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"dynamodb",children:"DynamoDB"})}),"\n",(0,r.jsx)(n.h2,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,r.jsx)(n.p,{children:"MBC CQRS Serverless\u306fDynamoDB\u3092\u30d7\u30e9\u30a4\u30de\u30ea\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u3068\u3057\u3066\u4f7f\u7528\u3057\u3001\u69cb\u9020\u5316\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u8a2d\u8a08\u3092\u901a\u3058\u3066CQRS\u3068\u30a4\u30d9\u30f3\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0\u30d1\u30bf\u30fc\u30f3\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\u52b9\u7387\u7684\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u306b\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u69cb\u9020\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u91cd\u8981\u3067\u3059\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u30c6\u30fc\u30d6\u30eb\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",children:"\u30c6\u30fc\u30d6\u30eb\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"}),"\n",(0,r.jsx)(n.mermaid,{value:'graph TB\n    subgraph "\u30c6\u30fc\u30d6\u30eb\u30bf\u30a4\u30d7"\n        A["\u30b3\u30de\u30f3\u30c9\u30c6\u30fc\u30d6\u30eb<br/>entity-command"]\n        B["\u30c7\u30fc\u30bf\u30c6\u30fc\u30d6\u30eb<br/>entity-data"]\n        C["\u5c65\u6b74\u30c6\u30fc\u30d6\u30eb<br/>entity-history"]\n    end\n\n    subgraph "\u30b7\u30b9\u30c6\u30e0\u30c6\u30fc\u30d6\u30eb"\n        D["tasks"]\n        E["sequences"]\n        F["import_tmp"]\n    end\n\n    A --\x3e|"DynamoDB Streams"| B\n    A --\x3e|"\u30a4\u30d9\u30f3\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0"| C'}),"\n",(0,r.jsx)(n.p,{children:"MBC CQRS Serverless\u3067\u306f\u3001DynamoDB\u30c6\u30fc\u30d6\u30eb\u306f\u4ee5\u4e0b\u306e\u30bf\u30a4\u30d7\u306b\u6574\u7406\u3055\u308c\u3066\u3044\u307e\u3059\uff1a"}),"\n",(0,r.jsx)(n.h3,{id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30c6\u30fc\u30d6\u30eb",children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30c6\u30fc\u30d6\u30eb"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30c6\u30fc\u30d6\u30eb\u30bf\u30a4\u30d7"}),(0,r.jsx)(n.th,{children:"\u547d\u540d\u898f\u5247"}),(0,r.jsx)(n.th,{children:"\u7528\u9014"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u30b3\u30de\u30f3\u30c9\u30c6\u30fc\u30d6\u30eb"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"entity-command"})}),(0,r.jsx)(n.td,{children:"\u66f8\u304d\u8fbc\u307f\u30b3\u30de\u30f3\u30c9\u3092\u4fdd\u5b58\uff08\u66f8\u304d\u8fbc\u307f\u30e2\u30c7\u30eb\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u30c7\u30fc\u30bf\u30c6\u30fc\u30d6\u30eb"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"entity-data"})}),(0,r.jsx)(n.td,{children:"\u73fe\u5728\u306e\u72b6\u614b\u3092\u4fdd\u5b58\uff08\u8aad\u307f\u53d6\u308a\u30e2\u30c7\u30eb\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u5c65\u6b74\u30c6\u30fc\u30d6\u30eb"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"entity-history"})}),(0,r.jsx)(n.td,{children:"\u30a4\u30d9\u30f3\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0\u7528\u306b\u3059\u3079\u3066\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4fdd\u5b58"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u30b7\u30b9\u30c6\u30e0\u30c6\u30fc\u30d6\u30eb",children:"\u30b7\u30b9\u30c6\u30e0\u30c6\u30fc\u30d6\u30eb"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30c6\u30fc\u30d6\u30eb"}),(0,r.jsx)(n.th,{children:"\u7528\u9014"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tasks"})}),(0,r.jsx)(n.td,{children:"\u9577\u6642\u9593\u5b9f\u884c\u3055\u308c\u308b\u975e\u540c\u671f\u30bf\u30b9\u30af\u306e\u60c5\u5831\u3092\u4fdd\u5b58"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sequences"})}),(0,r.jsx)(n.td,{children:"ID\u751f\u6210\u7528\u306e\u30b7\u30fc\u30b1\u30f3\u30b9\u30c7\u30fc\u30bf\u3092\u4fdd\u6301"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"import_tmp"})}),(0,r.jsx)(n.td,{children:"Step Functions\u3092\u4ecb\u3057\u305f\u30a4\u30f3\u30dd\u30fc\u30c8\u64cd\u4f5c\u7528\u306e\u4e00\u6642\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9",children:"\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9"}),"\n",(0,r.jsxs)(n.p,{children:["\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u306f",(0,r.jsx)(n.code,{children:"prisma/dynamodbs"}),"\u30d5\u30a9\u30eb\u30c0\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u65b0\u3057\u3044\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30c6\u30fc\u30d6\u30eb\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\uff1a"]}),"\n",(0,r.jsx)(n.h3,{id:"\u30b9\u30c6\u30c3\u30d71-\u8a2d\u5b9a\u3067\u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9",children:"\u30b9\u30c6\u30c3\u30d71: \u8a2d\u5b9a\u3067\u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"prisma/dynamodbs/cqrs.json"}),"\u306b\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u8ffd\u52a0\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'["cat", "dog", "order"]\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u30b9\u30c6\u30c3\u30d72-\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c",children:"\u30b9\u30c6\u30c3\u30d72: \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c"}),"\n",(0,r.jsx)(n.p,{children:"\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u7528\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Migrate DynamoDB tables only\nnpm run migrate:ddb\n\n# Migrate both DynamoDB and RDS\nnpm run migrate\n"})}),"\n",(0,r.jsx)(n.h3,{id:"system-table-definitions",children:"\u30b7\u30b9\u30c6\u30e0\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9"}),"\n",(0,r.jsxs)(n.p,{children:["\u30b7\u30b9\u30c6\u30e0\u30c6\u30fc\u30d6\u30eb\uff08",(0,r.jsx)(n.code,{children:"tasks"}),"\u3001",(0,r.jsx)(n.code,{children:"sequences"}),"\u3001",(0,r.jsx)(n.code,{children:"import_tmp"}),"\uff09\u306f",(0,r.jsx)(n.code,{children:"prisma/dynamodbs/"}),"\u30d5\u30a9\u30eb\u30c0\u306b\u72ec\u81ea\u306eJSON\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u6642\u306b\u81ea\u52d5\u7684\u306b\u4f5c\u6210\u3055\u308c\u307e\u3059\uff1a"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30d5\u30a1\u30a4\u30eb"}),(0,r.jsx)(n.th,{children:"\u30c6\u30fc\u30d6\u30eb"}),(0,r.jsx)(n.th,{children:"\u7528\u9014"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tasks.json"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tasks"})}),(0,r.jsx)(n.td,{children:"DynamoDB Streams\u306b\u3088\u308b\u30bf\u30b9\u30af\u7ba1\u7406"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sequences.json"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sequences"})}),(0,r.jsx)(n.td,{children:"\u30b7\u30fc\u30b1\u30f3\u30b9ID\u751f\u6210"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"import_tmp.json"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"import_tmp"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.a,{href:"/docs/import",children:"ImportModule"}),"\u7528\u306eDynamoDB Streams\u4ed8\u304d\u4e00\u6642\u30a4\u30f3\u30dd\u30fc\u30c8\u30c7\u30fc\u30bf"]})]})]})]}),"\n",(0,r.jsx)(n.admonition,{title:"\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831",type:"info",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"import_tmp.json"}),"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f",(0,r.jsx)(n.a,{href:"/docs/changelog#v111",children:"\u30d0\u30fc\u30b8\u30e7\u30f31.1.1"}),"\u3067\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\u305d\u308c\u4ee5\u524d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3001ImportModule\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u624b\u52d5\u3067\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u8a73\u7d30\u306f",(0,r.jsx)(n.a,{href:"/docs/common-issues#missing-import-tmp-table",children:"\u3088\u304f\u3042\u308b\u554f\u984c"}),"\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]})}),"\n",(0,r.jsx)(n.h2,{id:"\u30ad\u30fc\u8a2d\u8a08\u30d1\u30bf\u30fc\u30f3",children:"\u30ad\u30fc\u8a2d\u8a08\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,r.jsx)(n.h3,{id:"\u6a19\u6e96\u30ad\u30fc\u69cb\u9020",children:"\u6a19\u6e96\u30ad\u30fc\u69cb\u9020"}),"\n",(0,r.jsx)(n.p,{children:"\u3059\u3079\u3066\u306e\u30c6\u30fc\u30d6\u30eb\u306f\u4ee5\u4e0b\u3067\u69cb\u6210\u3055\u308c\u308b\u8907\u5408\u4e3b\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u307e\u3059\uff1a"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30ad\u30fc"}),(0,r.jsx)(n.th,{children:"\u5f62\u5f0f"}),(0,r.jsx)(n.th,{children:"\u4f8b"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pk"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TYPE#tenantCode"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ORDER#ACME"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sk"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TYPE#code"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ORDER#ORD-000001"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30ad\u30fc\u306e\u4f8b",children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30ad\u30fc\u306e\u4f8b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Order entity\nconst orderKey = {\n  pk: `ORDER#${tenantCode}`,\n  sk: `ORDER#${orderId}`,\n};\n\n// User entity\nconst userKey = {\n  pk: `USER#${tenantCode}`,\n  sk: `USER#${userId}`,\n};\n\n// Hierarchical data (e.g., organization)\nconst departmentKey = {\n  pk: `ORG#${tenantCode}`,\n  sk: `DEPT#${parentId}#${deptId}`,\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u30c6\u30fc\u30d6\u30eb\u5c5e\u6027",children:"\u30c6\u30fc\u30d6\u30eb\u5c5e\u6027"}),"\n",(0,r.jsx)(n.h3,{id:"\u5171\u901a\u5c5e\u6027",children:"\u5171\u901a\u5c5e\u6027"}),"\n",(0,r.jsx)(n.p,{children:"\u3059\u3079\u3066\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30c6\u30fc\u30d6\u30eb\u306f\u3053\u308c\u3089\u306e\u5171\u901a\u5c5e\u6027\u3092\u5171\u6709\u3057\u307e\u3059\uff1a"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,r.jsx)(n.th,{children:"\u578b"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pk"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30ad\u30fc"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sk"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u30bd\u30fc\u30c8\u30ad\u30fc"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u4e00\u610f\u8b58\u5225\u5b50\uff08pk#sk\u30cf\u30c3\u30b7\u30e5\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"code"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u30d3\u30b8\u30cd\u30b9\u30b3\u30fc\u30c9"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u8868\u793a\u540d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tenantCode"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u30c6\u30ca\u30f3\u30c8\u8b58\u5225\u5b50"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"type"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30bf\u30a4\u30d7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"version"})}),(0,r.jsx)(n.td,{children:"Number"}),(0,r.jsx)(n.td,{children:"\u697d\u89b3\u7684\u30ed\u30c3\u30af\u7528\u30d0\u30fc\u30b8\u30e7\u30f3"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"attributes"})}),(0,r.jsx)(n.td,{children:"Map"}),(0,r.jsx)(n.td,{children:"\u30ab\u30b9\u30bf\u30e0\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u5c5e\u6027"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"createdBy"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u4f5c\u6210\u8005\u30e6\u30fc\u30b6\u30fcID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"createdIp"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u4f5c\u6210\u8005IP\u30a2\u30c9\u30ec\u30b9"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"createdAt"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u4f5c\u6210\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\uff08ISO 8601\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"updatedBy"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u6700\u7d42\u66f4\u65b0\u8005\u30e6\u30fc\u30b6\u30fcID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"updatedIp"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u6700\u7d42\u66f4\u65b0\u8005IP\u30a2\u30c9\u30ec\u30b9"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"updatedAt"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u6700\u7d42\u66f4\u65b0\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\uff08ISO 8601\uff09"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u30b3\u30de\u30f3\u30c9\u56fa\u6709\u306e\u5c5e\u6027",children:"\u30b3\u30de\u30f3\u30c9\u56fa\u6709\u306e\u5c5e\u6027"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,r.jsx)(n.th,{children:"\u578b"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"source"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u30b3\u30de\u30f3\u30c9\u30bd\u30fc\u30b9\u8b58\u5225\u5b50"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"requestId"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0ID"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u5c65\u6b74\u56fa\u6709\u306e\u5c5e\u6027",children:"\u5c65\u6b74\u56fa\u6709\u306e\u5c5e\u6027"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,r.jsx)(n.th,{children:"\u578b"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"seq"})}),(0,r.jsx)(n.td,{children:"Number"}),(0,r.jsx)(n.td,{children:"\u5c65\u6b74\u5185\u306e\u30b7\u30fc\u30b1\u30f3\u30b9\u756a\u53f7"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"\u30bb\u30ab\u30f3\u30c0\u30ea\u30a4\u30f3\u30c7\u30c3\u30af\u30b9",children:"\u30bb\u30ab\u30f3\u30c0\u30ea\u30a4\u30f3\u30c7\u30c3\u30af\u30b9"}),"\n",(0,r.jsx)(n.h3,{id:"\u30b0\u30ed\u30fc\u30d0\u30eb\u30bb\u30ab\u30f3\u30c0\u30ea\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u8ffd\u52a0",children:"\u30b0\u30ed\u30fc\u30d0\u30eb\u30bb\u30ab\u30f3\u30c0\u30ea\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u8ffd\u52a0"}),"\n",(0,r.jsx)(n.p,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30fc\u30d6\u30eb\u8a2d\u5b9a\u306b\u306fGSI\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u30af\u30a8\u30ea\u30d1\u30bf\u30fc\u30f3\u306b\u57fa\u3065\u3044\u3066GSI\u3092\u8ffd\u52a0\u3067\u304d\u307e\u3059\u3002\u4e00\u822c\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u3068\u3057\u3066\u3001\u30d3\u30b8\u30cd\u30b9\u30b3\u30fc\u30c9\u306b\u3088\u308b\u9ad8\u901f\u691c\u7d22\u306e\u305f\u3081\u306ecode-index\u3092\u8ffd\u52a0\u3059\u308b\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\uff1a"}),"\n",(0,r.jsx)(n.p,{children:"GSI\u5b9a\u7fa9\u306e\u4f8b\uff08\u30c6\u30fc\u30d6\u30eb\u8a2d\u5b9a\u306b\u8ffd\u52a0\uff09\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "GlobalSecondaryIndexes": [\n    {\n      "IndexName": "code-index",\n      "KeySchema": [\n        { "AttributeName": "tenantCode", "KeyType": "HASH" },\n        { "AttributeName": "code", "KeyType": "RANGE" }\n      ],\n      "Projection": { "ProjectionType": "ALL" }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u30ab\u30b9\u30bf\u30e0GSI\u306e\u4f7f\u7528\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Find entity by code (requires code-index GSI)\nconst params = {\n  TableName: 'entity-data',\n  IndexName: 'code-index',\n  KeyConditionExpression: 'tenantCode = :tenant AND code = :code',\n  ExpressionAttributeValues: {\n    ':tenant': tenantCode,\n    ':code': entityCode,\n  },\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,r.jsx)(n.h3,{id:"\u30ad\u30fc\u8a2d\u8a08",children:"\u30ad\u30fc\u8a2d\u8a08"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30ad\u30fc\u3092\u5e83\u304f\u4fdd\u3064"}),": \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u9593\u3067\u30c7\u30fc\u30bf\u3092\u5747\u7b49\u306b\u5206\u6563\u3059\u308b"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u968e\u5c64\u7684\u306a\u30bd\u30fc\u30c8\u30ad\u30fc\u3092\u4f7f\u7528\u3059\u308b"}),": \u52b9\u7387\u7684\u306a\u7bc4\u56f2\u30af\u30a8\u30ea\u3092\u6709\u52b9\u306b\u3059\u308b"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30ad\u30fc\u306b\u30c6\u30ca\u30f3\u30c8\u3092\u542b\u3081\u308b"}),": \u30c7\u30fc\u30bf\u5206\u96e2\u3092\u78ba\u4fdd\u3059\u308b"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u30af\u30a8\u30ea\u6700\u9069\u5316",children:"\u30af\u30a8\u30ea\u6700\u9069\u5316"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scan\u3088\u308aQuery\u3092\u4f7f\u7528\u3059\u308b"}),": \u30af\u30a8\u30ea\u3067\u306f\u5e38\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30ad\u30fc\u3092\u4f7f\u7528\u3059\u308b"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7d50\u679c\u30bb\u30c3\u30c8\u3092\u5236\u9650\u3059\u308b"}),": \u5927\u898f\u6a21\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u306f\u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5fc5\u8981\u306a\u5c5e\u6027\u3092\u5c04\u5f71\u3059\u308b"}),": \u5fc5\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u307f\u3092\u53d6\u5f97\u3059\u308b"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u30d7\u30e9\u30f3\u30cb\u30f3\u30b0",children:"\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u30d7\u30e9\u30f3\u30cb\u30f3\u30b0"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u3092\u4f7f\u7528\u3059\u308b"}),": \u4e88\u6e2c\u4e0d\u53ef\u80fd\u306a\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u63a8\u5968"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6d88\u8cbb\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u3092\u76e3\u8996\u3059\u308b"}),": CloudWatch\u30a2\u30e9\u30fc\u30e0\u3092\u8a2d\u5b9a\u3059\u308b"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DAX\u3092\u691c\u8a0e\u3059\u308b"}),": \u30de\u30a4\u30af\u30ed\u79d2\u30ec\u30d9\u30eb\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u5fc5\u8981\u306a\u8aad\u307f\u53d6\u308a\u8ca0\u8377\u306e\u9ad8\u3044\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u5411\u3051"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u30ed\u30fc\u30ab\u30eb\u958b\u767a",children:"\u30ed\u30fc\u30ab\u30eb\u958b\u767a"}),"\n",(0,r.jsx)(n.h3,{id:"dynamodb-local",children:"DynamoDB Local"}),"\n",(0,r.jsx)(n.p,{children:"\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u306f\u958b\u767a\u7528\u306eDynamoDB Local\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Start DynamoDB Local (included in docker-compose)\ndocker-compose up -d dynamodb-local\n\n# Access DynamoDB Local Admin UI\nopen http://localhost:8001\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u74b0\u5883\u5909\u6570",children:"\u74b0\u5883\u5909\u6570"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Local DynamoDB endpoint\nDYNAMODB_ENDPOINT=http://localhost:8000\nDYNAMODB_REGION=ap-northeast-1\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",children:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/ja/docs/key-patterns",children:"Key Patterns"}),": \u8a73\u7d30\u306a\u30ad\u30fc\u8a2d\u8a08\u6226\u7565"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/ja/docs/entity-patterns",children:"Entity Patterns"}),": \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u30e2\u30c7\u30ea\u30f3\u30b0\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/ja/docs/sequence",children:"Sequence"}),": \u30b7\u30fc\u30b1\u30f3\u30b9ID\u751f\u6210"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/ja/docs/command-service",children:"CommandService"}),": \u30b3\u30de\u30f3\u30c9\u51e6\u7406\u3068\u30c7\u30fc\u30bf\u540c\u671f"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(j,{...e})}):j(e)}},8453:(e,n,d)=>{d.d(n,{R:()=>l,x:()=>c});var s=d(6540);const r={},i=s.createContext(r);function l(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);