"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[5187],{7247:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>t,default:()=>p,frontMatter:()=>s,metadata:()=>l,toc:()=>r});const l=JSON.parse('{"id":"codepipeline-cicd","title":"CodePipeline\u306b\u3088\u308bCI/CD","description":"AWS CodePipeline\u3067\u7d99\u7d9a\u7684\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3068\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/codepipeline-cicd.md","sourceDirName":".","slug":"/codepipeline-cicd","permalink":"/ja/docs/codepipeline-cicd","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"description":"AWS CodePipeline\u3067\u7d99\u7d9a\u7684\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3068\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002"},"sidebar":"tutorialSidebar","previous":{"title":"\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30ac\u30a4\u30c9","permalink":"/ja/docs/deployment-guide"},"next":{"title":"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3068\u30ed\u30ae\u30f3\u30b0","permalink":"/ja/docs/monitoring-logging"}}');var c=i(4848),d=i(8453);const s={description:"AWS CodePipeline\u3067\u7d99\u7d9a\u7684\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3068\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002"},t="CodePipeline\u306b\u3088\u308bCI/CD",o={},r=[{value:"\u6982\u8981",id:"\u6982\u8981",level:2},{value:"\u524d\u63d0\u6761\u4ef6",id:"\u524d\u63d0\u6761\u4ef6",level:2},{value:"CDK\u306b\u3088\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30b9\u30bf\u30c3\u30af",id:"cdk\u306b\u3088\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30b9\u30bf\u30c3\u30af",level:2},{value:"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30b9\u30bf\u30c3\u30af\u306e\u4f5c\u6210",id:"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30b9\u30bf\u30c3\u30af\u306e\u4f5c\u6210",level:3},{value:"BuildSpec\u8a2d\u5b9a",id:"buildspec\u8a2d\u5b9a",level:2},{value:"\u57fa\u672c\u7684\u306abuildspec.yml",id:"\u57fa\u672c\u7684\u306abuildspecyml",level:3},{value:"\u74b0\u5883\u5909\u6570\u4ed8\u304dBuildSpec",id:"\u74b0\u5883\u5909\u6570\u4ed8\u304dbuildspec",level:3},{value:"\u30de\u30eb\u30c1\u74b0\u5883\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",id:"\u30de\u30eb\u30c1\u74b0\u5883\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",level:2},{value:"\u958b\u767a\u74b0\u5883\u3068\u672c\u756a\u74b0\u5883\u306e\u30b9\u30c6\u30fc\u30b8",id:"\u958b\u767a\u74b0\u5883\u3068\u672c\u756a\u74b0\u5883\u306e\u30b9\u30c6\u30fc\u30b8",level:3},{value:"GitHub\u63a5\u7d9a",id:"github\u63a5\u7d9a",level:2},{value:"CodeStar Connection\u306e\u4f5c\u6210",id:"codestar-connection\u306e\u4f5c\u6210",level:3},{value:"CDK\u3067\u306e\u63a5\u7d9a\u306e\u4f7f\u7528",id:"cdk\u3067\u306e\u63a5\u7d9a\u306e\u4f7f\u7528",level:3},{value:"\u30d6\u30e9\u30f3\u30c1\u30d9\u30fc\u30b9\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",id:"\u30d6\u30e9\u30f3\u30c1\u30d9\u30fc\u30b9\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",level:2},{value:"\u30d5\u30a3\u30fc\u30c1\u30e3\u30fc\u30d6\u30e9\u30f3\u30c1\u6226\u7565",id:"\u30d5\u30a3\u30fc\u30c1\u30e3\u30fc\u30d6\u30e9\u30f3\u30c1\u6226\u7565",level:3},{value:"\u30d6\u30e9\u30f3\u30c1\u5bfe\u5fdc\u306eCDK\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",id:"\u30d6\u30e9\u30f3\u30c1\u5bfe\u5fdc\u306ecdk\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",level:3},{value:"\u901a\u77e5",id:"\u901a\u77e5",level:2},{value:"SNS\u901a\u77e5",id:"sns\u901a\u77e5",level:3},{value:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:2},{value:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3",id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3",level:3},{value:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9",id:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9",level:3},{value:"\u4fe1\u983c\u6027",id:"\u4fe1\u983c\u6027",level:3},{value:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",id:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",level:2},{value:"\u3088\u304f\u3042\u308b\u554f\u984c",id:"\u3088\u304f\u3042\u308b\u554f\u984c",level:3},{value:"\u30ed\u30b0\u306e\u78ba\u8a8d",id:"\u30ed\u30b0\u306e\u78ba\u8a8d",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"codepipeline\u306b\u3088\u308bcicd",children:"CodePipeline\u306b\u3088\u308bCI/CD"})}),"\n",(0,c.jsx)(e.p,{children:"\u3053\u306e\u30ac\u30a4\u30c9\u3067\u306f\u3001MBC CQRS Serverless\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u306bAWS CodePipeline\u3092\u4f7f\u7528\u3057\u305fCI/CD\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002"}),"\n",(0,c.jsx)(e.h2,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,c.jsx)(e.p,{children:"AWS CodePipeline\u306f\u3001\u30d3\u30eb\u30c9\u3001\u30c6\u30b9\u30c8\u3001\u30c7\u30d7\u30ed\u30a4\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u81ea\u52d5\u5316\u3057\u307e\u3059\u3002\u5178\u578b\u7684\u306a\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306f\u4ee5\u4e0b\u3067\u69cb\u6210\u3055\u308c\u307e\u3059\uff1a"}),"\n",(0,c.jsxs)(e.ol,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"\u30bd\u30fc\u30b9\u30b9\u30c6\u30fc\u30b8"}),": \u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30b3\u30fc\u30c9\u3092\u53d6\u5f97"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"\u30d3\u30eb\u30c9\u30b9\u30c6\u30fc\u30b8"}),": \u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30d3\u30eb\u30c9"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"\u30c7\u30d7\u30ed\u30a4\u30b9\u30c6\u30fc\u30b8"}),": CDK/CloudFormation\u3092\u4f7f\u7528\u3057\u3066AWS\u306b\u30c7\u30d7\u30ed\u30a4"]}),"\n"]}),"\n",(0,c.jsx)(e.mermaid,{value:"graph LR\n    A[\u30bd\u30fc\u30b9] --\x3e B[\u30d3\u30eb\u30c9]\n    B --\x3e C[\u30c6\u30b9\u30c8]\n    C --\x3e D[Dev\u74b0\u5883\u30c7\u30d7\u30ed\u30a4]\n    D --\x3e E[\u627f\u8a8d]\n    E --\x3e F[Prod\u74b0\u5883\u30c7\u30d7\u30ed\u30a4]"}),"\n",(0,c.jsx)(e.h2,{id:"\u524d\u63d0\u6761\u4ef6",children:"\u524d\u63d0\u6761\u4ef6"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"CodePipeline\u3001CodeBuild\u6a29\u9650\u3092\u6301\u3064AWS\u30a2\u30ab\u30a6\u30f3\u30c8"}),"\n",(0,c.jsx)(e.li,{children:"\u30bd\u30fc\u30b9\u30ea\u30dd\u30b8\u30c8\u30ea\uff08GitHub\u3001CodeCommit\u3001\u307e\u305f\u306fBitbucket\uff09"}),"\n",(0,c.jsx)(e.li,{children:"\u8a2d\u5b9a\u6e08\u307f\u306eAWS CDK\u30d7\u30ed\u30b8\u30a7\u30af\u30c8"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"cdk\u306b\u3088\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30b9\u30bf\u30c3\u30af",children:"CDK\u306b\u3088\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30b9\u30bf\u30c3\u30af"}),"\n",(0,c.jsx)(e.h3,{id:"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30b9\u30bf\u30c3\u30af\u306e\u4f5c\u6210",children:"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30b9\u30bf\u30c3\u30af\u306e\u4f5c\u6210"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.code,{children:"infra/libs/pipeline-stack.ts"})," \u306b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u7528\u306eCDK\u30b9\u30bf\u30c3\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\uff1a"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-typescript",children:"import * as cdk from 'aws-cdk-lib';\nimport * as codepipeline from 'aws-cdk-lib/aws-codepipeline';\nimport * as codepipeline_actions from 'aws-cdk-lib/aws-codepipeline-actions';\nimport * as codebuild from 'aws-cdk-lib/aws-codebuild';\nimport { Construct } from 'constructs';\n\nexport interface PipelineStackProps extends cdk.StackProps {\n  repositoryName: string;\n  branchName: string;\n  connectionArn: string;\n}\n\nexport class PipelineStack extends cdk.Stack {\n  constructor(scope: Construct, id: string, props: PipelineStackProps) {\n    super(scope, id, props);\n\n    // Source artifact\n    const sourceOutput = new codepipeline.Artifact();\n\n    // Build artifact\n    const buildOutput = new codepipeline.Artifact();\n\n    // CodeBuild project\n    const buildProject = new codebuild.PipelineProject(this, 'BuildProject', {\n      environment: {\n        buildImage: codebuild.LinuxBuildImage.STANDARD_7_0,\n        computeType: codebuild.ComputeType.MEDIUM,\n      },\n      buildSpec: codebuild.BuildSpec.fromSourceFilename('buildspec.yml'),\n    });\n\n    // Pipeline\n    const pipeline = new codepipeline.Pipeline(this, 'Pipeline', {\n      pipelineName: `${props.repositoryName}-pipeline`,\n      stages: [\n        {\n          stageName: 'Source',\n          actions: [\n            new codepipeline_actions.CodeStarConnectionsSourceAction({\n              actionName: 'GitHub_Source',\n              owner: 'your-org',\n              repo: props.repositoryName,\n              branch: props.branchName,\n              connectionArn: props.connectionArn,\n              output: sourceOutput,\n            }),\n          ],\n        },\n        {\n          stageName: 'Build',\n          actions: [\n            new codepipeline_actions.CodeBuildAction({\n              actionName: 'Build',\n              project: buildProject,\n              input: sourceOutput,\n              outputs: [buildOutput],\n            }),\n          ],\n        },\n        {\n          stageName: 'Deploy',\n          actions: [\n            new codepipeline_actions.CloudFormationCreateUpdateStackAction({\n              actionName: 'Deploy',\n              stackName: `${props.repositoryName}-app`,\n              templatePath: buildOutput.atPath('cdk.out/AppStack.template.json'),\n              adminPermissions: true,\n            }),\n          ],\n        },\n      ],\n    });\n  }\n}\n"})}),"\n",(0,c.jsx)(e.h2,{id:"buildspec\u8a2d\u5b9a",children:"BuildSpec\u8a2d\u5b9a"}),"\n",(0,c.jsx)(e.h3,{id:"\u57fa\u672c\u7684\u306abuildspecyml",children:"\u57fa\u672c\u7684\u306abuildspec.yml"}),"\n",(0,c.jsxs)(e.p,{children:["\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306b ",(0,c.jsx)(e.code,{children:"buildspec.yml"})," \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\uff1a"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-yaml",children:'version: 0.2\n\nphases:\n  install:\n    runtime-versions:\n      nodejs: 18\n    commands:\n      - npm ci\n\n  pre_build:\n    commands:\n      - echo "Running tests..."\n      - npm run test\n      - npm run lint\n\n  build:\n    commands:\n      - echo "Building application..."\n      - npm run build\n      - echo "Synthesizing CDK..."\n      - cd infra && npm ci && npx cdk synth\n\n  post_build:\n    commands:\n      - echo "Build completed on $(date)"\n\nartifacts:\n  files:\n    - \'**/*\'\n  base-directory: infra\n\ncache:\n  paths:\n    - node_modules/**/*\n    - infra/node_modules/**/*\n'})}),"\n",(0,c.jsx)(e.h3,{id:"\u74b0\u5883\u5909\u6570\u4ed8\u304dbuildspec",children:"\u74b0\u5883\u5909\u6570\u4ed8\u304dBuildSpec"}),"\n",(0,c.jsx)(e.p,{children:"\u74b0\u5883\u56fa\u6709\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u306a\u30d3\u30eb\u30c9\u306e\u5834\u5408\uff1a"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-yaml",children:"version: 0.2\n\nenv:\n  variables:\n    NODE_ENV: production\n  parameter-store:\n    DATABASE_URL: /your-app/database-url\n  secrets-manager:\n    API_KEY: your-app-secrets:api-key\n\nphases:\n  install:\n    runtime-versions:\n      nodejs: 18\n    commands:\n      - npm ci\n\n  build:\n    commands:\n      - npm run build\n      - cd infra && npx cdk synth --context env=$ENVIRONMENT\n\nartifacts:\n  files:\n    - 'infra/cdk.out/**/*'\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u30de\u30eb\u30c1\u74b0\u5883\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",children:"\u30de\u30eb\u30c1\u74b0\u5883\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3"}),"\n",(0,c.jsx)(e.h3,{id:"\u958b\u767a\u74b0\u5883\u3068\u672c\u756a\u74b0\u5883\u306e\u30b9\u30c6\u30fc\u30b8",children:"\u958b\u767a\u74b0\u5883\u3068\u672c\u756a\u74b0\u5883\u306e\u30b9\u30c6\u30fc\u30b8"}),"\n",(0,c.jsx)(e.p,{children:"\u5404\u74b0\u5883\u7528\u306b\u5225\u3005\u306e\u30b9\u30c6\u30fc\u30b8\u3092\u6301\u3064\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\uff1a"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-typescript",children:"const pipeline = new codepipeline.Pipeline(this, 'Pipeline', {\n  stages: [\n    // Source stage\n    { stageName: 'Source', actions: [sourceAction] },\n\n    // Build stage\n    { stageName: 'Build', actions: [buildAction] },\n\n    // Deploy to Development\n    {\n      stageName: 'Deploy_Dev',\n      actions: [\n        new codepipeline_actions.CloudFormationCreateUpdateStackAction({\n          actionName: 'Deploy_Dev',\n          stackName: 'myapp-dev',\n          templatePath: buildOutput.atPath('cdk.out/DevStack.template.json'),\n          adminPermissions: true,\n        }),\n      ],\n    },\n\n    // Manual Approval for Production\n    {\n      stageName: 'Approval',\n      actions: [\n        new codepipeline_actions.ManualApprovalAction({\n          actionName: 'Approve_Production',\n          notifyEmails: ['team@your-company.com'],\n        }),\n      ],\n    },\n\n    // Deploy to Production\n    {\n      stageName: 'Deploy_Prod',\n      actions: [\n        new codepipeline_actions.CloudFormationCreateUpdateStackAction({\n          actionName: 'Deploy_Prod',\n          stackName: 'myapp-prod',\n          templatePath: buildOutput.atPath('cdk.out/ProdStack.template.json'),\n          adminPermissions: true,\n        }),\n      ],\n    },\n  ],\n});\n"})}),"\n",(0,c.jsx)(e.h2,{id:"github\u63a5\u7d9a",children:"GitHub\u63a5\u7d9a"}),"\n",(0,c.jsx)(e.h3,{id:"codestar-connection\u306e\u4f5c\u6210",children:"CodeStar Connection\u306e\u4f5c\u6210"}),"\n",(0,c.jsx)(e.p,{children:"GitHub\u3092CodePipeline\u306b\u63a5\u7d9a\u3059\u308b\u306b\u306f\uff1a"}),"\n",(0,c.jsxs)(e.ol,{children:["\n",(0,c.jsx)(e.li,{children:"AWS\u30b3\u30f3\u30bd\u30fc\u30eb \u2192 \u958b\u767a\u8005\u30c4\u30fc\u30eb \u2192 \u8a2d\u5b9a \u2192 \u63a5\u7d9a \u306b\u79fb\u52d5"}),"\n",(0,c.jsx)(e.li,{children:"\u300c\u63a5\u7d9a\u3092\u4f5c\u6210\u300d\u3092\u30af\u30ea\u30c3\u30af"}),"\n",(0,c.jsx)(e.li,{children:"\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u3068\u3057\u3066\u300cGitHub\u300d\u3092\u9078\u629e"}),"\n",(0,c.jsx)(e.li,{children:"AWS Connector for GitHub\u3092\u627f\u8a8d"}),"\n",(0,c.jsx)(e.li,{children:"\u63a5\u7d9aARN\u3092\u30b3\u30d4\u30fc"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"cdk\u3067\u306e\u63a5\u7d9a\u306e\u4f7f\u7528",children:"CDK\u3067\u306e\u63a5\u7d9a\u306e\u4f7f\u7528"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-typescript",children:"const connectionArn = 'arn:aws:codestar-connections:REGION:ACCOUNT:connection/CONNECTION_ID';\n\nnew codepipeline_actions.CodeStarConnectionsSourceAction({\n  actionName: 'GitHub_Source',\n  owner: 'your-org',\n  repo: 'your-repo',\n  branch: 'main',\n  connectionArn: connectionArn,\n  output: sourceOutput,\n});\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u30d6\u30e9\u30f3\u30c1\u30d9\u30fc\u30b9\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",children:"\u30d6\u30e9\u30f3\u30c1\u30d9\u30fc\u30b9\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3"}),"\n",(0,c.jsx)(e.h3,{id:"\u30d5\u30a3\u30fc\u30c1\u30e3\u30fc\u30d6\u30e9\u30f3\u30c1\u6226\u7565",children:"\u30d5\u30a3\u30fc\u30c1\u30e3\u30fc\u30d6\u30e9\u30f3\u30c1\u6226\u7565"}),"\n",(0,c.jsx)(e.p,{children:"\u7570\u306a\u308b\u30d6\u30e9\u30f3\u30c1\u7528\u306b\u5225\u3005\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\uff1a"}),"\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u30d6\u30e9\u30f3\u30c1"}),(0,c.jsx)(e.th,{children:"\u74b0\u5883"}),(0,c.jsx)(e.th,{children:"\u81ea\u52d5\u30c7\u30d7\u30ed\u30a4"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"main"})}),(0,c.jsx)(e.td,{children:"\u672c\u756a"}),(0,c.jsx)(e.td,{children:"\u3044\u3044\u3048\uff08\u627f\u8a8d\u304c\u5fc5\u8981\uff09"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"develop"})}),(0,c.jsx)(e.td,{children:"\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0"}),(0,c.jsx)(e.td,{children:"\u306f\u3044"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"feature/*"})}),(0,c.jsx)(e.td,{children:"\u958b\u767a"}),(0,c.jsx)(e.td,{children:"\u306f\u3044"})]})]})]}),"\n",(0,c.jsx)(e.h3,{id:"\u30d6\u30e9\u30f3\u30c1\u5bfe\u5fdc\u306ecdk\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3",children:"\u30d6\u30e9\u30f3\u30c1\u5bfe\u5fdc\u306eCDK\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-typescript",children:"// Development pipeline (auto-deploy)\nnew PipelineStack(app, 'DevPipeline', {\n  repositoryName: 'your-app',\n  branchName: 'develop',\n  connectionArn: connectionArn,\n  autoApprove: true,\n});\n\n// Production pipeline (manual approval)\nnew PipelineStack(app, 'ProdPipeline', {\n  repositoryName: 'your-app',\n  branchName: 'main',\n  connectionArn: connectionArn,\n  autoApprove: false,\n});\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u901a\u77e5",children:"\u901a\u77e5"}),"\n",(0,c.jsx)(e.h3,{id:"sns\u901a\u77e5",children:"SNS\u901a\u77e5"}),"\n",(0,c.jsx)(e.p,{children:"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u901a\u77e5\u3092\u8ffd\u52a0\u3057\u307e\u3059\uff1a"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-typescript",children:"import * as sns from 'aws-cdk-lib/aws-sns';\nimport * as notifications from 'aws-cdk-lib/aws-codestarnotifications';\n\nconst topic = new sns.Topic(this, 'PipelineNotifications');\n\nnew notifications.NotificationRule(this, 'PipelineNotificationRule', {\n  source: pipeline,\n  events: [\n    'codepipeline-pipeline-pipeline-execution-failed',\n    'codepipeline-pipeline-pipeline-execution-succeeded',\n  ],\n  targets: [topic],\n});\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,c.jsx)(e.h3,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u6700\u5c0f\u6a29\u9650\u306eIAM\u30ed\u30fc\u30eb\u3092\u4f7f\u7528"}),"\n",(0,c.jsx)(e.li,{children:"\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u306fSecrets Manager\u307e\u305f\u306fParameter Store\u306b\u4fdd\u5b58"}),"\n",(0,c.jsx)(e.li,{children:"\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u306e\u6697\u53f7\u5316\u3092\u6709\u52b9\u5316"}),"\n",(0,c.jsx)(e.li,{children:"\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ea\u30bd\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u5408\u306fCodeBuild\u3067VPC\u3092\u4f7f\u7528"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9",children:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"CodeBuild\u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u30ad\u30e3\u30c3\u30b7\u30e5"}),"\n",(0,c.jsx)(e.li,{children:"\u9069\u5207\u306a\u30b3\u30f3\u30d4\u30e5\u30fc\u30c8\u30bf\u30a4\u30d7\u3092\u4f7f\u7528"}),"\n",(0,c.jsx)(e.li,{children:"\u72ec\u7acb\u3057\u305f\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4e26\u5217\u5316"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"\u4fe1\u983c\u6027",children:"\u4fe1\u983c\u6027"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u30c7\u30d7\u30ed\u30a4\u5f8c\u306b\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u3092\u8ffd\u52a0"}),"\n",(0,c.jsx)(e.li,{children:"\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u6226\u7565\u3092\u5b9f\u88c5"}),"\n",(0,c.jsx)(e.li,{children:"\u672c\u756a\u74b0\u5883\u306b\u306fBlue-Green\u307e\u305f\u306fCanary\u30c7\u30d7\u30ed\u30a4\u3092\u4f7f\u7528"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",children:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"}),"\n",(0,c.jsx)(e.h3,{id:"\u3088\u304f\u3042\u308b\u554f\u984c",children:"\u3088\u304f\u3042\u308b\u554f\u984c"}),"\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u554f\u984c"}),(0,c.jsx)(e.th,{children:"\u89e3\u6c7a\u7b56"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u30bd\u30fc\u30b9\u63a5\u7d9a\u306e\u5931\u6557"}),(0,c.jsx)(e.td,{children:"CodeStar\u63a5\u7d9a\u304c\u300c\u5229\u7528\u53ef\u80fd\u300d\u30b9\u30c6\u30fc\u30bf\u30b9\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u30d3\u30eb\u30c9\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8"}),(0,c.jsx)(e.td,{children:"CodeBuild\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u8a2d\u5b9a\u3067\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3092\u5ef6\u9577"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u6a29\u9650\u62d2\u5426"}),(0,c.jsx)(e.td,{children:"IAM\u30ed\u30fc\u30eb\u306b\u5fc5\u8981\u306a\u6a29\u9650\u304c\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u304c\u898b\u3064\u304b\u3089\u306a\u3044"}),(0,c.jsx)(e.td,{children:"buildspec\u306e\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u8a2d\u5b9a\u3092\u78ba\u8a8d"})]})]})]}),"\n",(0,c.jsx)(e.h3,{id:"\u30ed\u30b0\u306e\u78ba\u8a8d",children:"\u30ed\u30b0\u306e\u78ba\u8a8d"}),"\n",(0,c.jsx)(e.p,{children:"CodeBuild\u306e\u30ed\u30b0\u306fCloudWatch Logs\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\uff1a"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"aws logs tail /aws/codebuild/your-build-project --follow\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"./monitoring-logging",children:"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3068\u30ed\u30ae\u30f3\u30b0"})," - \u53ef\u89b3\u6e2c\u6027\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"./deployment-guide",children:"\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30ac\u30a4\u30c9"})," - \u624b\u52d5\u30c7\u30d7\u30ed\u30a4\u30aa\u30d7\u30b7\u30e7\u30f3"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"./common-issues",children:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"})," - \u3088\u304f\u3042\u308b\u30c7\u30d7\u30ed\u30a4\u306e\u554f\u984c"]}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(a,{...n})}):a(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>t});var l=i(6540);const c={},d=l.createContext(c);function s(n){const e=l.useContext(d);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:s(n.components),l.createElement(d.Provider,{value:e},n.children)}}}]);