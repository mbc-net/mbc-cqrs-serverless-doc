"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[7720],{3469:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"error-catalog","title":"\u30a8\u30e9\u30fc\u30ab\u30bf\u30ed\u30b0","description":"MBC CQRS Serverless\u306e\u539f\u56e0\u3001\u89e3\u6c7a\u7b56\u3001\u5fa9\u65e7\u6226\u7565\u3092\u542b\u3080\u5305\u62ec\u7684\u306a\u30a8\u30e9\u30fc\u30ab\u30bf\u30ed\u30b0\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/error-catalog.md","sourceDirName":".","slug":"/error-catalog","permalink":"/ja/docs/error-catalog","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"description":"MBC CQRS Serverless\u306e\u539f\u56e0\u3001\u89e3\u6c7a\u7b56\u3001\u5fa9\u65e7\u6226\u7565\u3092\u542b\u3080\u5305\u62ec\u7684\u306a\u30a8\u30e9\u30fc\u30ab\u30bf\u30ed\u30b0\u3002"},"sidebar":"tutorialSidebar","previous":{"title":"\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9","permalink":"/ja/docs/interfaces"},"next":{"title":"\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u30ac\u30a4\u30c9","permalink":"/ja/docs/anti-patterns"}}');var r=s(4848),i=s(8453);const d={sidebar_position:2,description:"MBC CQRS Serverless\u306e\u539f\u56e0\u3001\u89e3\u6c7a\u7b56\u3001\u5fa9\u65e7\u6226\u7565\u3092\u542b\u3080\u5305\u62ec\u7684\u306a\u30a8\u30e9\u30fc\u30ab\u30bf\u30ed\u30b0\u3002"},c="\u30a8\u30e9\u30fc\u30ab\u30bf\u30ed\u30b0",l={},o=[{value:"\u30af\u30a4\u30c3\u30af\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9",id:"\u30af\u30a4\u30c3\u30af\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9",level:2},{value:"\u30b3\u30de\u30f3\u30c9\uff06\u30c7\u30fc\u30bf\u30a8\u30e9\u30fc",id:"\u30b3\u30de\u30f3\u30c9\u30c7\u30fc\u30bf\u30a8\u30e9\u30fc",level:3},{value:"\u30c6\u30ca\u30f3\u30c8\u30a8\u30e9\u30fc",id:"\u30c6\u30ca\u30f3\u30c8\u30a8\u30e9\u30fc",level:3},{value:"\u30b7\u30fc\u30b1\u30f3\u30b9\uff06\u30bf\u30b9\u30af\u30a8\u30e9\u30fc",id:"\u30b7\u30fc\u30b1\u30f3\u30b9\u30bf\u30b9\u30af\u30a8\u30e9\u30fc",level:3},{value:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc",id:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc",level:3},{value:"DynamoDB\u30a8\u30e9\u30fc",id:"dynamodb\u30a8\u30e9\u30fc",level:3},{value:"\u8a8d\u8a3c\u30a8\u30e9\u30fc",id:"\u8a8d\u8a3c\u30a8\u30e9\u30fc",level:3},{value:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u30a8\u30e9\u30fc",id:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u30a8\u30e9\u30fc",level:3},{value:"Step Functions\u30a8\u30e9\u30fc",id:"step-functions\u30a8\u30e9\u30fc",level:3},{value:"AWS\u30b5\u30fc\u30d3\u30b9\u30a8\u30e9\u30fc",id:"aws\u30b5\u30fc\u30d3\u30b9\u30a8\u30e9\u30fc",level:3},{value:"\u30b3\u30de\u30f3\u30c9\u30b5\u30fc\u30d3\u30b9\u30a8\u30e9\u30fc",id:"\u30b3\u30de\u30f3\u30c9\u30b5\u30fc\u30d3\u30b9\u30a8\u30e9\u30fc",level:2},{value:"BadRequestException: &quot;The input is not a valid, item not found or version not match&quot;",id:"badrequestexception-the-input-is-not-a-valid-item-not-found-or-version-not-match",level:3},{value:"BadRequestException: &quot;The input key is not a valid, item not found&quot;",id:"badrequestexception-the-input-key-is-not-a-valid-item-not-found",level:3},{value:"BadRequestException: &quot;Invalid input version&quot;",id:"badrequestexception-invalid-input-version",level:3},{value:"\u30c6\u30ca\u30f3\u30c8\u30a8\u30e9\u30fc",id:"\u30c6\u30ca\u30f3\u30c8\u30a8\u30e9\u30fc-1",level:2},{value:"BadRequestException: &quot;Tenant not found&quot;",id:"badrequestexception-tenant-not-found",level:3},{value:"BadRequestException: &quot;Tenant already exist&quot;",id:"badrequestexception-tenant-already-exist",level:3},{value:"\u30b7\u30fc\u30b1\u30f3\u30b9\u30a8\u30e9\u30fc",id:"\u30b7\u30fc\u30b1\u30f3\u30b9\u30a8\u30e9\u30fc",level:2},{value:"BadRequestException: &quot;Sequence not found&quot;",id:"badrequestexception-sequence-not-found",level:3},{value:"\u30bf\u30b9\u30af\u30a8\u30e9\u30fc",id:"\u30bf\u30b9\u30af\u30a8\u30e9\u30fc",level:2},{value:"NotFoundException: &quot;Task not found&quot;",id:"notfoundexception-task-not-found",level:3},{value:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc",id:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc-1",level:2},{value:"BadRequestException: &quot;Validation failed&quot;",id:"badrequestexception-validation-failed",level:3},{value:"DynamoDB\u30a8\u30e9\u30fc",id:"dynamodb\u30a8\u30e9\u30fc-1",level:2},{value:"ProvisionedThroughputExceededException",id:"provisionedthroughputexceededexception",level:3},{value:"ConditionalCheckFailedException",id:"conditionalcheckfailedexception",level:3},{value:"ResourceNotFoundException",id:"resourcenotfoundexception",level:3},{value:"ValidationException: &quot;One or more parameter values were invalid&quot;",id:"validationexception-one-or-more-parameter-values-were-invalid",level:3},{value:"Cognito\u8a8d\u8a3c\u30a8\u30e9\u30fc",id:"cognito\u8a8d\u8a3c\u30a8\u30e9\u30fc",level:2},{value:"NotAuthorizedException",id:"notauthorizedexception",level:3},{value:"UserNotFoundException",id:"usernotfoundexception",level:3},{value:"UserNotConfirmedException",id:"usernotconfirmedexception",level:3},{value:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u30a8\u30e9\u30fc",id:"import-module-errors",level:2},{value:"Step Functions\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\uff08\u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6\uff09",id:"step-functions\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6",level:3},{value:"BadRequestException: &quot;No import strategy found for table: <code>{tableName}</code>&quot;",id:"badrequestexception-no-import-strategy-found-for-table-tablename",level:3},{value:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6\u304cPROCESSING\u30b9\u30c6\u30fc\u30bf\u30b9\u3067\u30b9\u30bf\u30c3\u30af",id:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6\u304cprocessing\u30b9\u30c6\u30fc\u30bf\u30b9\u3067\u30b9\u30bf\u30c3\u30af",level:3},{value:"Step Functions\u30a8\u30e9\u30fc",id:"step-functions\u30a8\u30e9\u30fc-1",level:2},{value:"TaskTimedOut",id:"tasktimedout",level:3},{value:"TaskFailed",id:"taskfailed",level:3},{value:"S3\u30a8\u30e9\u30fc",id:"s3\u30a8\u30e9\u30fc",level:2},{value:"NoSuchKey",id:"nosuchkey",level:3},{value:"AccessDenied",id:"accessdenied",level:3},{value:"SQS\u30a8\u30e9\u30fc",id:"sqs\u30a8\u30e9\u30fc",level:2},{value:"MessageNotInflight",id:"messagenotinflight",level:3},{value:"HTTP\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9",id:"http\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9",level:2},{value:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:2},{value:"1. \u96c6\u4e2d\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30e9\u30fc",id:"1-\u96c6\u4e2d\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30e9\u30fc",level:3},{value:"2. \u6307\u6570\u30d0\u30c3\u30af\u30aa\u30d5\u3067\u30ea\u30c8\u30e9\u30a4",id:"2-\u6307\u6570\u30d0\u30c3\u30af\u30aa\u30d5\u3067\u30ea\u30c8\u30e9\u30a4",level:3},{value:"3. \u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\u30d1\u30bf\u30fc\u30f3",id:"3-\u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\u30d1\u30bf\u30fc\u30f3",level:3},{value:"\u30c7\u30d0\u30c3\u30b0\u306e\u30d2\u30f3\u30c8",id:"\u30c7\u30d0\u30c3\u30b0\u306e\u30d2\u30f3\u30c8",level:2},{value:"\u95a2\u9023\u60c5\u5831",id:"\u95a2\u9023\u60c5\u5831",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u30a8\u30e9\u30fc\u30ab\u30bf\u30ed\u30b0",children:"\u30a8\u30e9\u30fc\u30ab\u30bf\u30ed\u30b0"})}),"\n",(0,r.jsx)(n.p,{children:"\u3053\u306e\u30ab\u30bf\u30ed\u30b0\u3067\u306f\u3001MBC CQRS Serverless\u3067\u767a\u751f\u3059\u308b\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u3001\u89e3\u6c7a\u7b56\u3001\u5fa9\u65e7\u6226\u7565\u3092\u542b\u3080\u5305\u62ec\u7684\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u30af\u30a4\u30c3\u30af\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9",children:"\u30af\u30a4\u30c3\u30af\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9"}),"\n",(0,r.jsx)(n.p,{children:"\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u4f7f\u7528\u3057\u3066\u30a8\u30e9\u30fc\u3092\u7d20\u65e9\u304f\u7279\u5b9a\u3057\u3001\u89e3\u6c7a\u7b56\u306b\u30b8\u30e3\u30f3\u30d7\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u30b3\u30de\u30f3\u30c9\u30c7\u30fc\u30bf\u30a8\u30e9\u30fc",children:"\u30b3\u30de\u30f3\u30c9\uff06\u30c7\u30fc\u30bf\u30a8\u30e9\u30fc"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30b3\u30fc\u30c9"}),(0,r.jsx)(n.th,{children:"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8"}),(0,r.jsx)(n.th,{children:"\u91cd\u5927\u5ea6"}),(0,r.jsx)(n.th,{children:"\u30af\u30a4\u30c3\u30af\u30d5\u30a3\u30c3\u30af\u30b9"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-CMD-001"}),(0,r.jsx)(n.td,{children:"\u30d0\u30fc\u30b8\u30e7\u30f3\u4e0d\u4e00\u81f4"}),(0,r.jsx)(n.td,{children:"\u9ad8"}),(0,r.jsxs)(n.td,{children:["\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u53d6\u5f97\u3059\u308b\u304b",(0,r.jsx)(n.code,{children:"version: -1"}),"\u3092\u4f7f\u7528"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-CMD-002"}),(0,r.jsx)(n.td,{children:"\u30a2\u30a4\u30c6\u30e0\u304c\u898b\u3064\u304b\u3089\u306a\u3044"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"\u66f4\u65b0\u524d\u306b\u30a2\u30a4\u30c6\u30e0\u304c\u5b58\u5728\u3059\u308b\u304b\u78ba\u8a8d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-CMD-003"}),(0,r.jsx)(n.td,{children:"\u7121\u52b9\u306a\u5165\u529b\u30d0\u30fc\u30b8\u30e7\u30f3"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"getItem()\u304b\u3089\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u30c6\u30ca\u30f3\u30c8\u30a8\u30e9\u30fc",children:"\u30c6\u30ca\u30f3\u30c8\u30a8\u30e9\u30fc"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30b3\u30fc\u30c9"}),(0,r.jsx)(n.th,{children:"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8"}),(0,r.jsx)(n.th,{children:"\u91cd\u5927\u5ea6"}),(0,r.jsx)(n.th,{children:"\u30af\u30a4\u30c3\u30af\u30d5\u30a3\u30c3\u30af\u30b9"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-TNT-001"}),(0,r.jsx)(n.td,{children:"\u30c6\u30ca\u30f3\u30c8\u304c\u898b\u3064\u304b\u3089\u306a\u3044"}),(0,r.jsx)(n.td,{children:"\u9ad8"}),(0,r.jsx)(n.td,{children:"listTenants()\u3067\u30c6\u30ca\u30f3\u30c8\u306e\u5b58\u5728\u3092\u78ba\u8a8d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-TNT-002"}),(0,r.jsx)(n.td,{children:"\u30c6\u30ca\u30f3\u30c8\u304c\u65e2\u306b\u5b58\u5728"}),(0,r.jsx)(n.td,{children:"\u4f4e"}),(0,r.jsx)(n.td,{children:"\u4f5c\u6210\u524d\u306b\u5b58\u5728\u78ba\u8a8d"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u30b7\u30fc\u30b1\u30f3\u30b9\u30bf\u30b9\u30af\u30a8\u30e9\u30fc",children:"\u30b7\u30fc\u30b1\u30f3\u30b9\uff06\u30bf\u30b9\u30af\u30a8\u30e9\u30fc"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30b3\u30fc\u30c9"}),(0,r.jsx)(n.th,{children:"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8"}),(0,r.jsx)(n.th,{children:"\u91cd\u5927\u5ea6"}),(0,r.jsx)(n.th,{children:"\u30af\u30a4\u30c3\u30af\u30d5\u30a3\u30c3\u30af\u30b9"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-SEQ-001"}),(0,r.jsx)(n.td,{children:"\u30b7\u30fc\u30b1\u30f3\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u3044"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"\u30b7\u30fc\u30b1\u30f3\u30b9\u306f\u521d\u56de\u4f7f\u7528\u6642\u306b\u81ea\u52d5\u521d\u671f\u5316"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-TSK-001"}),(0,r.jsx)(n.td,{children:"\u30bf\u30b9\u30af\u304c\u898b\u3064\u304b\u3089\u306a\u3044"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"NotFoundException\u3067\u30bf\u30b9\u30af\u306e\u5b58\u5728\u3092\u78ba\u8a8d"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc",children:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30b3\u30fc\u30c9"}),(0,r.jsx)(n.th,{children:"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8"}),(0,r.jsx)(n.th,{children:"\u91cd\u5927\u5ea6"}),(0,r.jsx)(n.th,{children:"\u30af\u30a4\u30c3\u30af\u30d5\u30a3\u30c3\u30af\u30b9"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-VAL-001"}),(0,r.jsx)(n.td,{children:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u5931\u6557"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"DTO\u306e\u5236\u7d04\u3068\u5165\u529b\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d"})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"dynamodb\u30a8\u30e9\u30fc",children:"DynamoDB\u30a8\u30e9\u30fc"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30b3\u30fc\u30c9"}),(0,r.jsx)(n.th,{children:"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8"}),(0,r.jsx)(n.th,{children:"\u91cd\u5927\u5ea6"}),(0,r.jsx)(n.th,{children:"\u30af\u30a4\u30c3\u30af\u30d5\u30a3\u30c3\u30af\u30b9"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-DDB-001"}),(0,r.jsx)(n.td,{children:"ProvisionedThroughputExceededException"}),(0,r.jsx)(n.td,{children:"\u9ad8"}),(0,r.jsx)(n.td,{children:"\u6307\u6570\u30d0\u30c3\u30af\u30aa\u30d5\u30ea\u30c8\u30e9\u30a4\u3092\u5b9f\u88c5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-DDB-002"}),(0,r.jsx)(n.td,{children:"ConditionalCheckFailedException"}),(0,r.jsx)(n.td,{children:"\u9ad8"}),(0,r.jsx)(n.td,{children:"\u30a2\u30a4\u30c6\u30e0\u3092\u66f4\u65b0\u3057\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u30ea\u30c8\u30e9\u30a4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-DDB-003"}),(0,r.jsx)(n.td,{children:"ResourceNotFoundException"}),(0,r.jsx)(n.td,{children:"\u91cd\u5927"}),(0,r.jsx)(n.td,{children:"\u30c6\u30fc\u30d6\u30eb\u306e\u5b58\u5728\u3068\u74b0\u5883\u5909\u6570\u3092\u78ba\u8a8d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-DDB-004"}),(0,r.jsx)(n.td,{children:"ValidationException"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"\u7a7a\u6587\u5b57\u5217\u3092\u907f\u3051\u3001\u4e88\u7d04\u8a9e\u3092\u30a8\u30b9\u30b1\u30fc\u30d7"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u8a8d\u8a3c\u30a8\u30e9\u30fc",children:"\u8a8d\u8a3c\u30a8\u30e9\u30fc"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30b3\u30fc\u30c9"}),(0,r.jsx)(n.th,{children:"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8"}),(0,r.jsx)(n.th,{children:"\u91cd\u5927\u5ea6"}),(0,r.jsx)(n.th,{children:"\u30af\u30a4\u30c3\u30af\u30d5\u30a3\u30c3\u30af\u30b9"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-COG-001"}),(0,r.jsx)(n.td,{children:"NotAuthorizedException"}),(0,r.jsx)(n.td,{children:"\u9ad8"}),(0,r.jsx)(n.td,{children:"\u30c8\u30fc\u30af\u30f3\u3092\u66f4\u65b0\u307e\u305f\u306f\u518d\u8a8d\u8a3c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-COG-002"}),(0,r.jsx)(n.td,{children:"UserNotFoundException"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"\u30d7\u30fc\u30eb\u306b\u30e6\u30fc\u30b6\u30fc\u304c\u5b58\u5728\u3059\u308b\u304b\u78ba\u8a8d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-COG-003"}),(0,r.jsx)(n.td,{children:"UserNotConfirmedException"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"\u78ba\u8a8d\u30b3\u30fc\u30c9\u3092\u518d\u9001\u4fe1"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u30a8\u30e9\u30fc",children:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u30a8\u30e9\u30fc"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30b3\u30fc\u30c9"}),(0,r.jsx)(n.th,{children:"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8"}),(0,r.jsx)(n.th,{children:"\u91cd\u5927\u5ea6"}),(0,r.jsx)(n.th,{children:"\u30af\u30a4\u30c3\u30af\u30d5\u30a3\u30c3\u30af\u30b9"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-IMP-001"}),(0,r.jsx)(n.td,{children:"Step Functions\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8"}),(0,r.jsx)(n.td,{children:"\u91cd\u5927"}),(0,r.jsx)(n.td,{children:"\u9069\u5207\u306a\u5931\u6557\u51e6\u7406\u306e\u305f\u3081v1.0.18\u4ee5\u964d\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-IMP-002"}),(0,r.jsx)(n.td,{children:"\u30a4\u30f3\u30dd\u30fc\u30c8\u6226\u7565\u304c\u898b\u3064\u304b\u3089\u306a\u3044"}),(0,r.jsx)(n.td,{children:"\u9ad8"}),(0,r.jsx)(n.td,{children:"\u30e2\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a\u306bImportStrategy\u3092\u767b\u9332"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-IMP-003"}),(0,r.jsx)(n.td,{children:"\u30a4\u30f3\u30dd\u30fc\u30c8\u304cPROCESSING\u3067\u30b9\u30bf\u30c3\u30af"}),(0,r.jsx)(n.td,{children:"\u9ad8"}),(0,r.jsx)(n.td,{children:"DynamoDB\u30b9\u30c8\u30ea\u30fc\u30e0\u3068SNS\u30c8\u30d4\u30c3\u30af\u3092\u78ba\u8a8d"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"step-functions\u30a8\u30e9\u30fc",children:"Step Functions\u30a8\u30e9\u30fc"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30b3\u30fc\u30c9"}),(0,r.jsx)(n.th,{children:"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8"}),(0,r.jsx)(n.th,{children:"\u91cd\u5927\u5ea6"}),(0,r.jsx)(n.th,{children:"\u30af\u30a4\u30c3\u30af\u30d5\u30a3\u30c3\u30af\u30b9"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-SFN-001"}),(0,r.jsx)(n.td,{children:"TaskTimedOut"}),(0,r.jsx)(n.td,{children:"\u9ad8"}),(0,r.jsx)(n.td,{children:"Lambda\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3092\u5897\u3084\u3059\u304b\u30c1\u30e3\u30f3\u30af\u51e6\u7406"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-SFN-002"}),(0,r.jsx)(n.td,{children:"TaskFailed"}),(0,r.jsx)(n.td,{children:"\u9ad8"}),(0,r.jsx)(n.td,{children:"sendTaskFailure\u3067\u9069\u5207\u306a\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3092\u8ffd\u52a0"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"aws\u30b5\u30fc\u30d3\u30b9\u30a8\u30e9\u30fc",children:"AWS\u30b5\u30fc\u30d3\u30b9\u30a8\u30e9\u30fc"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30b3\u30fc\u30c9"}),(0,r.jsx)(n.th,{children:"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8"}),(0,r.jsx)(n.th,{children:"\u91cd\u5927\u5ea6"}),(0,r.jsx)(n.th,{children:"\u30af\u30a4\u30c3\u30af\u30d5\u30a3\u30c3\u30af\u30b9"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-S3-001"}),(0,r.jsx)(n.td,{children:"NoSuchKey"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"headObject\u3067\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5b58\u5728\u3092\u78ba\u8a8d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-S3-002"}),(0,r.jsx)(n.td,{children:"AccessDenied"}),(0,r.jsx)(n.td,{children:"\u9ad8"}),(0,r.jsx)(n.td,{children:"\u5fc5\u8981\u306aIAM\u6a29\u9650\u3092\u8ffd\u52a0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MBC-SQS-001"}),(0,r.jsx)(n.td,{children:"MessageNotInflight"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"\u53ef\u8996\u6027\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u5185\u306b\u51e6\u7406"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30b3\u30de\u30f3\u30c9\u30b5\u30fc\u30d3\u30b9\u30a8\u30e9\u30fc",children:"\u30b3\u30de\u30f3\u30c9\u30b5\u30fc\u30d3\u30b9\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"badrequestexception-the-input-is-not-a-valid-item-not-found-or-version-not-match",children:'BadRequestException: "The input is not a valid, item not found or version not match"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/core/src/commands/command.service.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u697d\u89b3\u7684\u30ed\u30c3\u30af\u306e\u5931\u6557\u3002\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Option 1: Fetch latest version before update\nconst latest = await dataService.getItem({ pk, sk });\nawait commandService.publishPartialUpdateSync({\n  pk,\n  sk,\n  version: latest.version,\n  name: 'Updated Name',\n}, options);\n\n// Option 2: Use version: -1 for auto-fetch (async mode only)\nawait commandService.publishPartialUpdateAsync({\n  pk,\n  sk,\n  version: -1,\n  name: 'Updated Name',\n}, options);\n\n// Option 3: Implement retry logic\nasync function updateWithRetry(data, maxRetries = 3) {\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      const latest = await dataService.getItem({ pk: data.pk, sk: data.sk });\n      return await commandService.publishPartialUpdateSync({\n        ...data,\n        version: latest.version,\n      }, options);\n    } catch (error) {\n      if (error.message.includes('version not match') && i < maxRetries - 1) {\n        await new Promise(r => setTimeout(r, 100 * (i + 1)));\n        continue;\n      }\n      throw error;\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"badrequestexception-the-input-key-is-not-a-valid-item-not-found",children:'BadRequestException: "The input key is not a valid, item not found"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/core/src/commands/command.service.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5b58\u5728\u3057\u306a\u3044\u30a2\u30a4\u30c6\u30e0\u3092\u66f4\u65b0\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Check if item exists first\nconst existing = await dataService.getItem({ pk, sk });\nif (!existing) {\n  // Create new item\n  await commandService.publishAsync(newItem, options);\n} else {\n  // Update existing item\n  await commandService.publishPartialUpdateAsync({\n    pk,\n    sk,\n    version: existing.version,\n    ...updates,\n  }, options);\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"badrequestexception-invalid-input-version",children:'BadRequestException: "Invalid input version"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/core/src/commands/command.service.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": publishSync\u3067\u6700\u65b0\u306e\u4fdd\u5b58\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u4e00\u81f4\u3057\u306a\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),": \u6700\u65b0\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3057\u3066\u305d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u304b\u3001\u975e\u540c\u671f\u30e1\u30bd\u30c3\u30c9\u3067version: -1\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30c6\u30ca\u30f3\u30c8\u30a8\u30e9\u30fc-1",children:"\u30c6\u30ca\u30f3\u30c8\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"badrequestexception-tenant-not-found",children:'BadRequestException: "Tenant not found"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/tenant/src/services/tenant.service.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u6307\u5b9a\u3055\u308c\u305f\u30c6\u30ca\u30f3\u30c8\u304c\u5b58\u5728\u3057\u306a\u3044\u304b\u524a\u9664\u3055\u308c\u3066\u3044\u307e\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Verify tenant exists\ntry {\n  const tenant = await tenantService.getTenant(tenantCode);\n} catch (error) {\n  if (error.message === 'Tenant not found') {\n    // List available tenants\n    const tenants = await tenantService.listTenants();\n    console.log('Available tenants:', tenants.items.map(t => t.code));\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"badrequestexception-tenant-already-exist",children:'BadRequestException: "Tenant already exist"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/tenant/src/services/tenant.service.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u65e2\u306b\u5b58\u5728\u3059\u308b\u30b3\u30fc\u30c9\u3067\u30c6\u30ca\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Check if tenant exists before creating\nconst existing = await tenantService.getTenant(tenantCode).catch(() => null);\nif (existing) {\n  console.log('Tenant already exists, using existing tenant');\n} else {\n  await tenantService.createTenant({ code: tenantCode, name: tenantName });\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30b7\u30fc\u30b1\u30f3\u30b9\u30a8\u30e9\u30fc",children:"\u30b7\u30fc\u30b1\u30f3\u30b9\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"badrequestexception-sequence-not-found",children:'BadRequestException: "Sequence not found"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/sequence/src/services/sequence.service.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30ea\u30af\u30a8\u30b9\u30c8\u3055\u308c\u305f\u30b7\u30fc\u30b1\u30f3\u30b9\u30ad\u30fc\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Generate sequence - auto-initializes on first use\ntry {\n  const result = await sequencesService.generateSequenceItem(\n    {\n      tenantCode,\n      typeCode: 'ORDER',\n    },\n    { invokeContext },\n  );\n} catch (error) {\n  // If error persists, check DynamoDB table permissions\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30bf\u30b9\u30af\u30a8\u30e9\u30fc",children:"\u30bf\u30b9\u30af\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"notfoundexception-task-not-found",children:'NotFoundException: "Task not found"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/task/src/task.controller.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u6307\u5b9a\u3055\u308c\u305f\u30bf\u30b9\u30af\u304c\u5b58\u5728\u3057\u306a\u3044\u304b\u3001\u5b8c\u4e86/\u524a\u9664\u3055\u308c\u3066\u3044\u307e\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Verify task status before operations\nconst task = await taskService.getTask({ pk, sk });\nif (!task) {\n  throw new NotFoundException('Task not found');\n}\nif (task.status === 'completed') {\n  throw new BadRequestException('Task already completed');\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc-1",children:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"badrequestexception-validation-failed",children:'BadRequestException: "Validation failed"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/core/src/pipe/class.validation.pipe.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30ea\u30af\u30a8\u30b9\u30c8DTO\u304cclass-validator\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4e00\u822c\u7684\u306a\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Example DTO with validation\nexport class CreateOrderDto {\n  @IsNotEmpty({ message: 'Name is required' })\n  @IsString()\n  @MaxLength(100)\n  name: string;\n\n  @IsNotEmpty({ message: 'Code is required' })\n  @Matches(/^[A-Z0-9-]+$/, { message: 'Code must be uppercase alphanumeric' })\n  code: string;\n\n  @IsOptional()\n  @IsNumber()\n  @Min(0)\n  amount?: number;\n}\n\n// Common validation errors and fixes:\n// - \"name must be a string\" -> Ensure name is string type\n// - \"code should not be empty\" -> Provide code value\n// - \"amount must not be less than 0\" -> Use positive number\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Validate before sending\nimport { validate } from 'class-validator';\nimport { plainToInstance } from 'class-transformer';\n\nconst dto = plainToInstance(CreateOrderDto, requestBody);\nconst errors = await validate(dto);\nif (errors.length > 0) {\n  console.log('Validation errors:', errors.map(e => e.constraints));\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"dynamodb\u30a8\u30e9\u30fc-1",children:"DynamoDB\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"provisionedthroughputexceededexception",children:"ProvisionedThroughputExceededException"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS DynamoDB"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u307e\u305f\u306f\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u3067\u8aad\u307f\u53d6\u308a\u307e\u305f\u306f\u66f8\u304d\u8fbc\u307f\u5bb9\u91cf\u3092\u8d85\u904e\u3057\u307e\u3057\u305f\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Implement exponential backoff retry\nasync function withRetry<T>(\n  fn: () => Promise<T>,\n  maxRetries = 5,\n  baseDelay = 100\n): Promise<T> {\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      return await fn();\n    } catch (error) {\n      if (error.name === 'ProvisionedThroughputExceededException') {\n        const delay = baseDelay * Math.pow(2, i) + Math.random() * 100;\n        console.log(`Throughput exceeded, retrying in ${delay}ms...`);\n        await new Promise(r => setTimeout(r, delay));\n        continue;\n      }\n      throw error;\n    }\n  }\n  throw new Error('Max retries exceeded');\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4e88\u9632\u7b56"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4e88\u6e2c\u56f0\u96e3\u306a\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u306f\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u30e2\u30fc\u30c9\u3092\u4f7f\u7528"}),"\n",(0,r.jsx)(n.li,{children:"\u66f8\u304d\u8fbc\u307f\u64cd\u4f5c\u3092\u6e1b\u3089\u3059\u305f\u3081\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u30d0\u30c3\u30c1\u30f3\u30b0\u3092\u5b9f\u88c5"}),"\n",(0,r.jsx)(n.li,{children:"\u8aad\u307f\u53d6\u308a\u304c\u591a\u3044\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u306fDAX\u3092\u4f7f\u7528"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"conditionalcheckfailedexception",children:"ConditionalCheckFailedException"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS DynamoDB"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u697d\u89b3\u7684\u30ed\u30c3\u30af\u6761\u4ef6\u304c\u5931\u6557\uff08\u30d0\u30fc\u30b8\u30e7\u30f3\u4e0d\u4e00\u81f4\uff09\u307e\u305f\u306f\u30e6\u30cb\u30fc\u30af\u5236\u7d04\u9055\u53cd\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Handle conditional check failure\ntry {\n  await commandService.publishSync(item, options);\n} catch (error) {\n  if (error.name === 'ConditionalCheckFailedException') {\n    // Refresh and retry\n    const latest = await dataService.getItem({ pk, sk });\n    await commandService.publishSync({\n      ...item,\n      version: latest.version,\n    }, options);\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"resourcenotfoundexception",children:"ResourceNotFoundException"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS DynamoDB"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u6307\u5b9a\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u307e\u305f\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Verify table exists\naws dynamodb describe-table --table-name your-table-name\n\n# Check environment variable\necho $DYNAMODB_TABLE_NAME\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"validationexception-one-or-more-parameter-values-were-invalid",children:'ValidationException: "One or more parameter values were invalid"'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS DynamoDB"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u7121\u52b9\u306a\u30ad\u30fc\u69cb\u9020\u3001\u975e\u30ad\u30fc\u5c5e\u6027\u306e\u7a7a\u6587\u5b57\u5217\u3001\u307e\u305f\u306f\u4e88\u7d04\u8a9e\u306e\u7af6\u5408\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Avoid empty strings\nconst item = {\n  pk: 'ORDER#tenant001',\n  sk: 'ORDER#ORD001',\n  name: value || null,  // Use null instead of empty string\n};\n\n// Use expression attribute names for reserved words\nconst params = {\n  ExpressionAttributeNames: {\n    '#name': 'name',\n    '#status': 'status',\n  },\n};\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"cognito\u8a8d\u8a3c\u30a8\u30e9\u30fc",children:"Cognito\u8a8d\u8a3c\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"notauthorizedexception",children:"NotAuthorizedException"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS Cognito"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u7121\u52b9\u306a\u8a8d\u8a3c\u60c5\u5831\u307e\u305f\u306f\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u5207\u308c\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Frontend: Refresh token\ntry {\n  await Auth.currentSession();  // Auto-refreshes if needed\n} catch (error) {\n  if (error.name === 'NotAuthorizedException') {\n    // Redirect to login\n    await Auth.signOut();\n    window.location.href = '/login';\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"usernotfoundexception",children:"UserNotFoundException"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS Cognito"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30e6\u30fc\u30b6\u30fc\u30d7\u30fc\u30eb\u306b\u30e6\u30fc\u30b6\u30fc\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Check user exists before operations\ntry {\n  const user = await adminGetUser({ Username: email });\n} catch (error) {\n  if (error.name === 'UserNotFoundException') {\n    // Create new user or show registration form\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"usernotconfirmedexception",children:"UserNotConfirmedException"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS Cognito"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30e6\u30fc\u30b6\u30fc\u304c\u30e1\u30fc\u30eb/\u96fb\u8a71\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u305b\u3093\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"try {\n  await Auth.signIn(email, password);\n} catch (error) {\n  if (error.name === 'UserNotConfirmedException') {\n    // Resend confirmation code\n    await Auth.resendSignUp(email);\n    // Redirect to confirmation page\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"import-module-errors",children:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.admonition,{title:"Related Documentation",type:"tip",children:(0,r.jsxs)(n.p,{children:["API\u306e\u8a73\u7d30\u3068\u4f7f\u7528\u30d1\u30bf\u30fc\u30f3\u306b\u3064\u3044\u3066\u306f",(0,r.jsx)(n.a,{href:"./import-export-patterns#importstatushandler-api",children:"ImportStatusHandler API"}),"\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30d0\u30fc\u30b8\u30e7\u30f3\u5c65\u6b74\u306b\u3064\u3044\u3066\u306f",(0,r.jsx)(n.a,{href:"./changelog#v1018",children:"\u5909\u66f4\u5c65\u6b74 v1.0.18"}),"\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]})}),"\n",(0,r.jsx)(n.h3,{id:"step-functions\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6",children:"Step Functions\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\uff08\u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6\uff09"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/import/src/event/import-status.queue.event.handler.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u75c7\u72b6"}),": \u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6\u3067Step Functions\u5b9f\u884c\u304c\u7121\u671f\u9650\u306b",(0,r.jsx)(n.code,{children:"RUNNING"}),"\u72b6\u614b\u306e\u307e\u307e\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30d0\u30fc\u30b8\u30e7\u30f31.0.18\u3088\u308a\u524d\u306f\u3001",(0,r.jsx)(n.code,{children:"ImportStatusHandler"}),"\u306f\u5b8c\u4e86\u3057\u305f\u30b8\u30e7\u30d6\u306b\u5bfe\u3057\u3066\u306e\u307f",(0,r.jsx)(n.code,{children:"SendTaskSuccessCommand"}),"\u3092\u9001\u4fe1\u3057\u3066\u3044\u307e\u3057\u305f\u3002\u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6\u304c\u5931\u6557\u3057\u305f\u5834\u5408\u3001Step Functions\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u9001\u4fe1\u3055\u308c\u305a\u3001",(0,r.jsx)(n.code,{children:"waitForTaskToken"}),"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u7121\u671f\u9650\u306b\u5f85\u6a5f\u3057\u3066\u3044\u307e\u3057\u305f\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"})," (1.0.18\u4ee5\u964d\u3067\u4fee\u6b63):\n\u30cf\u30f3\u30c9\u30e9\u30fc\u306f\u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6\u304c\u5931\u6557\u3057\u305f\u5834\u5408\u306b\u9069\u5207\u306b",(0,r.jsx)(n.code,{children:"SendTaskFailureCommand"}),"\u3092\u9001\u4fe1\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Internal behavior (automatic, no user action needed):\n// - COMPLETED status \u2192 SendTaskSuccessCommand\n// - FAILED status \u2192 SendTaskFailureCommand\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\uff1a"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"@mbc-cqrs-serverless/import@^1.0.18"}),"\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9"]}),"\n",(0,r.jsxs)(n.li,{children:["\u30b9\u30bf\u30c3\u30af\u3057\u305f\u5b9f\u884c\u306b\u3064\u3044\u3066\u306f\u3001AWS\u30b3\u30f3\u30bd\u30fc\u30eb\u307e\u305f\u306fCLI\u3067\u624b\u52d5\u505c\u6b62\uff1a","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws stepfunctions stop-execution --execution-arn <execution-arn>\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"badrequestexception-no-import-strategy-found-for-table-tablename",children:['BadRequestException: "No import strategy found for table: ',(0,r.jsx)(n.code,{children:"{tableName}"}),'"']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/import/src/import.service.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u6307\u5b9a\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u540d\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u6226\u7565\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":\nImportModule\u3092\u8a2d\u5b9a\u3059\u308b\u969b\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u6226\u7565\u3092\u767b\u9332\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"ImportModule.register({\n  profiles: [\n    {\n      tableName: 'your-table-name',  // Must match the tableName in your import request\n      importStrategy: YourImportStrategy,\n      processStrategy: YourProcessStrategy,\n    },\n  ],\n})\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6\u304cprocessing\u30b9\u30c6\u30fc\u30bf\u30b9\u3067\u30b9\u30bf\u30c3\u30af",children:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30b8\u30e7\u30d6\u304cPROCESSING\u30b9\u30c6\u30fc\u30bf\u30b9\u3067\u30b9\u30bf\u30c3\u30af"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": ",(0,r.jsx)(n.code,{children:"packages/import/src/event/import.queue.event.handler.ts"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30a4\u30f3\u30dd\u30fc\u30c8\u51e6\u7406\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u304c\u30b8\u30e7\u30d6\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u6b63\u3057\u304f\u66f4\u65b0\u3055\u308c\u306a\u304b\u3063\u305f\u3001\u307e\u305f\u306fDynamoDB\u30b9\u30c8\u30ea\u30fc\u30e0\u304c\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u30c8\u30ea\u30ac\u30fc\u3067\u304d\u306a\u304b\u3063\u305f\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Lambda\u30a8\u30e9\u30fc\u306b\u3064\u3044\u3066\u306f",(0,r.jsx)(n.strong,{children:"CloudWatch\u30ed\u30b0"}),"\u3092\u78ba\u8a8d"]}),"\n",(0,r.jsx)(n.li,{children:"import_tmp\u30c6\u30fc\u30d6\u30eb\u3067DynamoDB\u30b9\u30c8\u30ea\u30fc\u30e0\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d"}),"\n",(0,r.jsx)(n.li,{children:"\u30a4\u30f3\u30dd\u30fc\u30c8\u30b9\u30c6\u30fc\u30bf\u30b9\u901a\u77e5\u7528\u306eSNS\u30c8\u30d4\u30c3\u30af\u304c\u5b58\u5728\u3059\u308b\u304b\u78ba\u8a8d"}),"\n",(0,r.jsxs)(n.li,{children:["\u30b9\u30bf\u30c3\u30af\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u3092\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\uff1a","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"await importService.updateStatus(\n  { pk: 'CSV_IMPORT#tenant', sk: 'table#taskCode' },\n  ImportStatusEnum.FAILED,\n  { error: 'Manual cleanup' }\n);\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-functions\u30a8\u30e9\u30fc-1",children:"Step Functions\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"tasktimedout",children:"TaskTimedOut"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS Step Functions"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": Lambda\u95a2\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u305f\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u5185\u306b\u5fdc\u7b54\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Increase Lambda timeout in serverless.yml\nfunctions:\n  processTask:\n    handler: handler.process\n    timeout: 900  # 15 minutes max\n\n// Or break into smaller chunks\nasync function processInChunks(items, chunkSize = 100) {\n  for (let i = 0; i < items.length; i += chunkSize) {\n    const chunk = items.slice(i, i + chunkSize);\n    await processChunk(chunk);\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"taskfailed",children:"TaskFailed"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS Step Functions"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": Lambda\u95a2\u6570\u304c\u672a\u51e6\u7406\u306e\u30a8\u30e9\u30fc\u3092\u30b9\u30ed\u30fc\u3057\u307e\u3057\u305f\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Proper error handling with Step Functions\nexport async function handler(event: StepFunctionEvent) {\n  try {\n    const result = await processTask(event.input);\n\n    // Send success callback\n    await sfn.sendTaskSuccess({\n      taskToken: event.taskToken,\n      output: JSON.stringify(result),\n    }).promise();\n  } catch (error) {\n    // Send failure callback\n    await sfn.sendTaskFailure({\n      taskToken: event.taskToken,\n      error: error.name,\n      cause: error.message,\n    }).promise();\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"s3\u30a8\u30e9\u30fc",children:"S3\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"nosuchkey",children:"NoSuchKey"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS S3"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u6307\u5b9a\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u30d0\u30b1\u30c3\u30c8\u306b\u5b58\u5728\u3057\u307e\u305b\u3093\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Check if object exists before downloading\ntry {\n  await s3.headObject({ Bucket: bucket, Key: key }).promise();\n  const data = await s3.getObject({ Bucket: bucket, Key: key }).promise();\n} catch (error) {\n  if (error.code === 'NoSuchKey' || error.code === 'NotFound') {\n    console.log('File does not exist:', key);\n    return null;\n  }\n  throw error;\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"accessdenied",children:"AccessDenied"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS S3"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": IAM\u30dd\u30ea\u30b7\u30fc\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3055\u308c\u305f\u64cd\u4f5c\u3092\u8a31\u53ef\u3057\u3066\u3044\u307e\u305b\u3093\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# Add required permissions in serverless.yml\nprovider:\n  iam:\n    role:\n      statements:\n        - Effect: Allow\n          Action:\n            - s3:GetObject\n            - s3:PutObject\n            - s3:DeleteObject\n          Resource:\n            - arn:aws:s3:::${self:custom.bucketName}/*\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"sqs\u30a8\u30e9\u30fc",children:"SQS\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"messagenotinflight",children:"MessageNotInflight"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5834\u6240"}),": AWS SQS"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30d5\u30e9\u30a4\u30c8\u4e2d\u3067\u306a\u304f\u306a\u3063\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u524a\u9664\u307e\u305f\u306f\u53ef\u8996\u6027\u306e\u5909\u66f4\u3092\u8a66\u307f\u3066\u3044\u307e\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Process messages within visibility timeout\nexport async function handler(event: SQSEvent) {\n  for (const record of event.Records) {\n    try {\n      await processMessage(record);\n      // Message auto-deleted on successful return\n    } catch (error) {\n      // Throw to keep message in queue for retry\n      throw error;\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"http\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9",children:"HTTP\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,r.jsx)(n.th,{children:"\u4f8b\u5916"}),(0,r.jsx)(n.th,{children:"\u610f\u5473"}),(0,r.jsx)(n.th,{children:"\u5fa9\u65e7\u6226\u7565"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"400"}),(0,r.jsx)(n.td,{children:"BadRequestException"}),(0,r.jsx)(n.td,{children:"\u7121\u52b9\u306a\u5165\u529b\u307e\u305f\u306f\u30d3\u30b8\u30cd\u30b9\u30eb\u30fc\u30eb\u9055\u53cd"}),(0,r.jsx)(n.td,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u4fee\u6b63"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"401"}),(0,r.jsx)(n.td,{children:"UnauthorizedException"}),(0,r.jsx)(n.td,{children:"\u8a8d\u8a3c\u304c\u6b20\u843d\u3057\u3066\u3044\u308b\u304b\u7121\u52b9"}),(0,r.jsx)(n.td,{children:"\u30c8\u30fc\u30af\u30f3\u3092\u66f4\u65b0\u307e\u305f\u306f\u518d\u30ed\u30b0\u30a4\u30f3"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"403"}),(0,r.jsx)(n.td,{children:"ForbiddenException"}),(0,r.jsx)(n.td,{children:"\u8a8d\u8a3c\u6e08\u307f\u3060\u304c\u6a29\u9650\u304c\u306a\u3044"}),(0,r.jsx)(n.td,{children:"\u30e6\u30fc\u30b6\u30fc\u6a29\u9650\u3092\u78ba\u8a8d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"404"}),(0,r.jsx)(n.td,{children:"NotFoundException"}),(0,r.jsx)(n.td,{children:"\u30ea\u30bd\u30fc\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u3044"}),(0,r.jsx)(n.td,{children:"\u30ea\u30bd\u30fc\u30b9\u306e\u5b58\u5728\u3092\u78ba\u8a8d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"409"}),(0,r.jsx)(n.td,{children:"ConflictException"}),(0,r.jsx)(n.td,{children:"\u30d0\u30fc\u30b8\u30e7\u30f3\u7af6\u5408\uff08\u697d\u89b3\u7684\u30ed\u30c3\u30af\uff09"}),(0,r.jsx)(n.td,{children:"\u66f4\u65b0\u3057\u3066\u518d\u8a66\u884c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"422"}),(0,r.jsx)(n.td,{children:"UnprocessableEntityException"}),(0,r.jsx)(n.td,{children:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u5931\u6557"}),(0,r.jsx)(n.td,{children:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc\u3092\u4fee\u6b63"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"429"}),(0,r.jsx)(n.td,{children:"TooManyRequestsException"}),(0,r.jsx)(n.td,{children:"\u30ec\u30fc\u30c8\u5236\u9650\u8d85\u904e"}),(0,r.jsx)(n.td,{children:"\u30d0\u30c3\u30af\u30aa\u30d5\u30ea\u30c8\u30e9\u30a4\u3092\u5b9f\u88c5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"500"}),(0,r.jsx)(n.td,{children:"InternalServerErrorException"}),(0,r.jsx)(n.td,{children:"\u4e88\u671f\u3057\u306a\u3044\u30b5\u30fc\u30d0\u30fc\u30a8\u30e9\u30fc"}),(0,r.jsx)(n.td,{children:"\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u3001\u30d0\u30b0\u3092\u5831\u544a"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"502"}),(0,r.jsx)(n.td,{children:"BadGatewayException"}),(0,r.jsx)(n.td,{children:"\u4e0a\u6d41\u30b5\u30fc\u30d3\u30b9\u30a8\u30e9\u30fc"}),(0,r.jsx)(n.td,{children:"\u30d0\u30c3\u30af\u30aa\u30d5\u3067\u518d\u8a66\u884c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"503"}),(0,r.jsx)(n.td,{children:"ServiceUnavailableException"}),(0,r.jsx)(n.td,{children:"\u30b5\u30fc\u30d3\u30b9\u304c\u4e00\u6642\u7684\u306b\u5229\u7528\u4e0d\u53ef"}),(0,r.jsx)(n.td,{children:"\u5f8c\u3067\u518d\u8a66\u884c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"504"}),(0,r.jsx)(n.td,{children:"GatewayTimeoutException"}),(0,r.jsx)(n.td,{children:"\u4e0a\u6d41\u30b5\u30fc\u30d3\u30b9\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8"}),(0,r.jsx)(n.td,{children:"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3092\u5897\u3084\u3059\u304b\u6700\u9069\u5316"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,r.jsx)(n.h3,{id:"1-\u96c6\u4e2d\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30e9\u30fc",children:"1. \u96c6\u4e2d\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30e9\u30fc"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Create a global exception filter\n@Catch()\nexport class GlobalExceptionFilter implements ExceptionFilter {\n  catch(exception: unknown, host: ArgumentsHost) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse();\n    const request = ctx.getRequest();\n\n    const status = exception instanceof HttpException\n      ? exception.getStatus()\n      : 500;\n\n    const message = exception instanceof HttpException\n      ? exception.message\n      : 'Internal server error';\n\n    // Log error with context\n    console.error({\n      timestamp: new Date().toISOString(),\n      path: request.url,\n      method: request.method,\n      status,\n      message,\n      stack: exception instanceof Error ? exception.stack : undefined,\n    });\n\n    response.status(status).json({\n      statusCode: status,\n      message,\n      timestamp: new Date().toISOString(),\n      path: request.url,\n    });\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-\u6307\u6570\u30d0\u30c3\u30af\u30aa\u30d5\u3067\u30ea\u30c8\u30e9\u30a4",children:"2. \u6307\u6570\u30d0\u30c3\u30af\u30aa\u30d5\u3067\u30ea\u30c8\u30e9\u30a4"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"async function retryWithBackoff<T>(\n  operation: () => Promise<T>,\n  options: {\n    maxRetries?: number;\n    baseDelay?: number;\n    maxDelay?: number;\n    retryableErrors?: string[];\n  } = {}\n): Promise<T> {\n  const {\n    maxRetries = 3,\n    baseDelay = 100,\n    maxDelay = 10000,\n    retryableErrors = [\n      'ProvisionedThroughputExceededException',\n      'ThrottlingException',\n      'ServiceUnavailable',\n    ],\n  } = options;\n\n  let lastError: Error;\n\n  for (let attempt = 0; attempt <= maxRetries; attempt++) {\n    try {\n      return await operation();\n    } catch (error) {\n      lastError = error;\n\n      if (!retryableErrors.includes(error.name) || attempt === maxRetries) {\n        throw error;\n      }\n\n      const delay = Math.min(\n        baseDelay * Math.pow(2, attempt) + Math.random() * 100,\n        maxDelay\n      );\n\n      console.log(`Retry attempt ${attempt + 1} after ${delay}ms`);\n      await new Promise(resolve => setTimeout(resolve, delay));\n    }\n  }\n\n  throw lastError;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-\u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\u30d1\u30bf\u30fc\u30f3",children:"3. \u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"class CircuitBreaker {\n  private failures = 0;\n  private lastFailure: number = 0;\n  private state: 'closed' | 'open' | 'half-open' = 'closed';\n\n  constructor(\n    private threshold: number = 5,\n    private timeout: number = 60000\n  ) {}\n\n  async execute<T>(operation: () => Promise<T>): Promise<T> {\n    if (this.state === 'open') {\n      if (Date.now() - this.lastFailure > this.timeout) {\n        this.state = 'half-open';\n      } else {\n        throw new Error('Circuit breaker is open');\n      }\n    }\n\n    try {\n      const result = await operation();\n      this.onSuccess();\n      return result;\n    } catch (error) {\n      this.onFailure();\n      throw error;\n    }\n  }\n\n  private onSuccess() {\n    this.failures = 0;\n    this.state = 'closed';\n  }\n\n  private onFailure() {\n    this.failures++;\n    this.lastFailure = Date.now();\n    if (this.failures >= this.threshold) {\n      this.state = 'open';\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30c7\u30d0\u30c3\u30b0\u306e\u30d2\u30f3\u30c8",children:"\u30c7\u30d0\u30c3\u30b0\u306e\u30d2\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30c7\u30d0\u30c3\u30b0\u30ed\u30b0\u3092\u6709\u52b9\u306b\u3059\u308b"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"DEBUG=* npm run offline\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Lambda\u30a8\u30e9\u30fc\u306b\u3064\u3044\u3066\u306f"}),"CloudWatch\u30ed\u30b0",(0,r.jsx)(n.strong,{children:"\u3092\u78ba\u8a8d"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws logs tail /aws/lambda/your-function-name --follow\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30c8\u30ec\u30fc\u30b7\u30f3\u30b0\u306b\u306f"}),"\u30ea\u30af\u30a8\u30b9\u30c8ID",(0,r.jsx)(n.strong,{children:"\u3092\u4f7f\u7528"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"console.log('RequestId:', context.awsRequestId);\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u74b0\u5883\u5909\u6570\u3092\u78ba\u8a8d"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"console.log('Config:', {\n  table: process.env.DYNAMODB_TABLE_NAME,\n  region: process.env.AWS_REGION,\n});\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"serverless-offline\u3067\u30ed\u30fc\u30ab\u30eb\u30c6\u30b9\u30c8"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run offline -- --stage dev\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u95a2\u9023\u60c5\u5831",children:"\u95a2\u9023\u60c5\u5831"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./debugging-guide",children:"\u30c7\u30d0\u30c3\u30b0\u30ac\u30a4\u30c9"})," - \u8a73\u7d30\u306a\u30c7\u30d0\u30c3\u30b0\u624b\u9806"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./common-issues",children:"\u3088\u304f\u3042\u308b\u554f\u984c"})," - \u3088\u304f\u767a\u751f\u3059\u308b\u554f\u984c"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./monitoring-logging",children:"\u76e3\u8996\u3068\u30ed\u30b0"})," - \u672c\u756a\u76e3\u8996\u306e\u8a2d\u5b9a"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>c});var t=s(6540);const r={},i=t.createContext(r);function d(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);