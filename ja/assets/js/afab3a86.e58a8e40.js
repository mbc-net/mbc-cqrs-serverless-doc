"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[7045],{2758:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"tasks","title":"\u30bf\u30b9\u30af\u30e2\u30b8\u30e5\u30fc\u30eb","description":"\u9577\u6642\u9593\u5b9f\u884c\u30bf\u30b9\u30af\u306e\u4f5c\u6210\u304a\u3088\u3073\u51e6\u7406\u65b9\u6cd5\u3092\u5b66\u3076","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/tasks.md","sourceDirName":".","slug":"/tasks","permalink":"/ja/docs/tasks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"description":"\u9577\u6642\u9593\u5b9f\u884c\u30bf\u30b9\u30af\u306e\u4f5c\u6210\u304a\u3088\u3073\u51e6\u7406\u65b9\u6cd5\u3092\u5b66\u3076"},"sidebar":"tutorialSidebar","previous":{"title":"\u63a1\u756a\u30e2\u30b8\u30e5\u30fc\u30eb","permalink":"/ja/docs/sequence"},"next":{"title":"\u30c6\u30ca\u30f3\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb","permalink":"/ja/docs/tenant"}}');var a=t(4848),r=t(8453);const i={description:"\u9577\u6642\u9593\u5b9f\u884c\u30bf\u30b9\u30af\u306e\u4f5c\u6210\u304a\u3088\u3073\u51e6\u7406\u65b9\u6cd5\u3092\u5b66\u3076"},o="\u30bf\u30b9\u30af\u30e2\u30b8\u30e5\u30fc\u30eb",c={},d=[{value:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",level:2},{value:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",id:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",level:2},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:2},{value:"\u5358\u4e00\u30bf\u30b9\u30af\u51e6\u7406",id:"\u5358\u4e00\u30bf\u30b9\u30af\u51e6\u7406",level:3},{value:"Step Function\u3092\u4f7f\u7528\u3057\u305f\u30bf\u30b9\u30af\u51e6\u7406",id:"step-function\u3092\u4f7f\u7528\u3057\u305f\u30bf\u30b9\u30af\u51e6\u7406",level:3},{value:"API\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9",id:"api\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9",level:2},{value:"TaskService\u30e1\u30bd\u30c3\u30c9",id:"taskservice\u30e1\u30bd\u30c3\u30c9",level:3},{value:"<code>createTask(dto: CreateTaskDto, options: { invokeContext: IInvoke }): Promise&lt;TaskEntity&gt;</code>",id:"createtaskdto-createtaskdto-options--invokecontext-iinvoke--promisetaskentity",level:4},{value:"<code>createStepFunctionTask(dto: CreateTaskDto, options: { invokeContext: IInvoke }): Promise&lt;TaskEntity&gt;</code>",id:"createstepfunctiontaskdto-createtaskdto-options--invokecontext-iinvoke--promisetaskentity",level:4},{value:"<code>getTask(key: DetailKey): Promise&lt;TaskEntity&gt;</code>",id:"gettaskkey-detailkey-promisetaskentity",level:4},{value:"<code>listItemsByPk(tenantCode: string, type?: string, options?: ListTaskOptions): Promise&lt;TaskListEntity&gt;</code>",id:"listitemsbypktenantcode-string-type-string-options-listtaskoptions-promisetasklistentity",level:4},{value:"<code>createSubTask(event: TaskQueueEvent): Promise&lt;TaskEntity[]&gt;</code>",id:"createsubtaskevent-taskqueueevent-promisetaskentity",level:4},{value:"<code>getAllSubTask(subTask: DetailKey): Promise&lt;TaskEntity[]&gt;</code>",id:"getallsubtasksubtask-detailkey-promisetaskentity",level:4},{value:"<code>updateStatus(key: DetailKey, status: string, attributes?: { result?: any; error?: any }, notifyId?: string): Promise&lt;void&gt;</code>",id:"updatestatuskey-detailkey-status-string-attributes--result-any-error-any--notifyid-string-promisevoid",level:4},{value:"<code>updateSubTaskStatus(key: DetailKey, status: string, attributes?: { result?: any; error?: any }, notifyId?: string): Promise&lt;void&gt;</code>",id:"updatesubtaskstatuskey-detailkey-status-string-attributes--result-any-error-any--notifyid-string-promisevoid",level:4},{value:"<code>updateStepFunctionTask(key: DetailKey, attributes?: Record&lt;string, any&gt;, status?: string, notifyId?: string): Promise&lt;void&gt;</code>",id:"updatestepfunctiontaskkey-detailkey-attributes-recordstring-any-status-string-notifyid-string-promisevoid",level:4},{value:"<code>publishAlarm(event: TaskQueueEvent | StepFunctionTaskEvent, errorDetails: any): Promise&lt;void&gt;</code>",id:"publishalarmevent-taskqueueevent--stepfunctiontaskevent-errordetails-any-promisevoid",level:4},{value:"<code>formatTaskStatus(tasks: TaskEntity[]): Promise&lt;object&gt;</code>",id:"formattaskstatustasks-taskentity-promiseobject",level:4},{value:"\u30bf\u30b9\u30af\u30b9\u30c6\u30fc\u30bf\u30b9\u5024",id:"\u30bf\u30b9\u30af\u30b9\u30c6\u30fc\u30bf\u30b9\u5024",level:3},{value:"CreateTaskDto",id:"createtaskdto",level:3},{value:"ITaskQueueEventFactory\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9",id:"itaskqueueeventfactory\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9",level:3}];function l(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"\u30bf\u30b9\u30af\u30e2\u30b8\u30e5\u30fc\u30eb",children:"\u30bf\u30b9\u30af\u30e2\u30b8\u30e5\u30fc\u30eb"})}),"\n",(0,a.jsx)(n.p,{children:"Task\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3001MBC CQRS Serverless\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u304a\u3044\u3066\u5305\u62ec\u7684\u306a\u30bf\u30b9\u30af\u7ba1\u7406\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u975e\u540c\u671f\u30bf\u30b9\u30af\u5b9f\u884c"}),"\n",(0,a.jsx)(n.li,{children:"\u30bf\u30b9\u30af\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u8ffd\u8de1"}),"\n",(0,a.jsx)(n.li,{children:"\u9032\u6357\u306e\u76e3\u8996"}),"\n",(0,a.jsx)(n.li,{children:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3068\u518d\u8a66\u884c"}),"\n",(0,a.jsx)(n.li,{children:"\u30bf\u30b9\u30ad\u30e5\u30fc\u7ba1\u7406"}),"\n",(0,a.jsx)(n.li,{children:"\u30bf\u30b9\u30af\u5c65\u6b74\u3068\u30ed\u30ae\u30f3\u30b0"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",children:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"}),"\n",(0,a.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Client\n    participant TaskService\n    participant DynamoDB\n    participant StepFunctions\n    participant Lambda\n\n    Client->>TaskService: createTask() / createStepFunctionTask()\n    TaskService->>DynamoDB: Save task (CREATED)\n    TaskService->>StepFunctions: Start execution\n    StepFunctions--\x3e>TaskService: Execution ARN\n    TaskService--\x3e>Client: TaskEntity\n\n    loop For each sub-task\n        StepFunctions->>Lambda: Execute sub-task\n        Lambda->>DynamoDB: Update status (PROCESSING)\n        Lambda->>Lambda: Process\n        Lambda->>DynamoDB: Update status (COMPLETED/FAILED)\n    end\n\n    StepFunctions->>DynamoDB: Update parent task status"}),"\n",(0,a.jsx)(n.h2,{id:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",children:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install @mbc-cqrs-serverless/task\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,a.jsx)(n.p,{children:"\u30bf\u30b9\u30af\u51e6\u7406\u306b\u306f2\u3064\u306e\u30bf\u30a4\u30d7\u304c\u3042\u308a\u307e\u3059\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5358\u4e00\u30bf\u30b9\u30af\u51e6\u7406"}),"\n",(0,a.jsx)(n.li,{children:"Step Function\u3092\u4f7f\u7528\u3057\u305f\u30bf\u30b9\u30af\u51e6\u7406"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"\u5358\u4e00\u30bf\u30b9\u30af\u51e6\u7406",children:"\u5358\u4e00\u30bf\u30b9\u30af\u51e6\u7406"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"\u30bf\u30b9\u30af\u30a4\u30d9\u30f3\u30c8\u306e\u5b9a\u7fa9"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { TaskQueueEvent } from "@mbc-cqrs-serverless/task";\n\nexport class TaskEvent extends TaskQueueEvent {}\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:"\u30bf\u30b9\u30af\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u30fc\u306e\u5b9a\u7fa9"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { EventHandler, IEventHandler } from "@mbc-cqrs-serverless/core";\nimport { Logger } from "@nestjs/common";\n\nimport { TaskEvent } from "./task.event";\n\n@EventHandler(TaskEvent)\nexport class TaskEventHandler implements IEventHandler<TaskEvent> {\n  private readonly logger = new Logger(TaskEventHandler.name);\n\n  constructor() {}\n\n  async execute(event: TaskEvent): Promise<any> {\n    this.logger.debug("executing task event::", event);\n\n    //\n\n    this.logger.debug(`Process task completed: ${event.taskEvent.eventID}`);\n    return "Result after process";\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ITaskQueueEventFactory"}),"\u306e\u5b9f\u88c5"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import {\n  ITaskQueueEventFactory,\n  TaskQueueEvent,\n} from "@mbc-cqrs-serverless/task";\nimport { TaskEvent } from "src/sample/handler/task.event";\n\nexport class TaskQueueEventFactory implements ITaskQueueEventFactory {\n  async transformTask(event: TaskQueueEvent): Promise<any[]> {\n    return [new TaskEvent().fromSqsRecord(event)];\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsxs)(n.li,{children:["\u30ab\u30b9\u30bf\u30e0",(0,a.jsx)(n.code,{children:"TaskModule"})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { TaskModule } from "@mbc-cqrs-serverless/task";\nimport { Module } from "@nestjs/common";\nimport { TaskEventHandler } from "src/sample/handler/task.handler";\n\nimport { TaskQueueEventFactory } from "./task-queue-event-factory";\n\n@Module({\n  imports: [\n    TaskModule.register({\n      taskQueueEventFactory: TaskQueueEventFactory,\n      enableController: true, // Optional: enable REST endpoints for task management\n    }),\n  ],\n  providers: [TaskEventHandler],\n  exports: [TaskModule],\n})\nexport class CustomTaskModule {}\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"5",children:["\n",(0,a.jsxs)(n.li,{children:["\u30ab\u30b9\u30bf\u30e0",(0,a.jsx)(n.code,{children:"EventFactoryAddedTask"})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { EventFactory, IEvent } from "@mbc-cqrs-serverless/core";\nimport { EventFactoryAddedTask, TaskEvent } from "@mbc-cqrs-serverless/task";\nimport { Logger } from "@nestjs/common";\nimport { DynamoDBStreamEvent } from "aws-lambda";\n\n@EventFactory()\nexport class CustomEventFactory extends EventFactoryAddedTask {\n  private readonly logger = new Logger(CustomEventFactory.name);\n  async transformDynamodbStream(event: DynamoDBStreamEvent): Promise<IEvent[]> {\n    const curEvents = await super.transformDynamodbStream(event);\n    const taskEvents = event.Records.map((record) => {\n      if (\n        record.eventSourceARN.endsWith("tasks") ||\n        record.eventSourceARN.includes("tasks" + "/stream/")\n      ) {\n        if (record.eventName === "INSERT") {\n          return new TaskEvent().fromDynamoDBRecord(record);\n        }\n      }\n      return undefined;\n    })\n      .filter((event) => !!event)\n      .filter((event) => event.taskEntity.sk.split("#").length < 3);\n\n    return [...curEvents, ...taskEvents];\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"6",children:["\n",(0,a.jsx)(n.li,{children:"\u30bf\u30b9\u30af\u306e\u4f5c\u6210"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"step-function\u3092\u4f7f\u7528\u3057\u305f\u30bf\u30b9\u30af\u51e6\u7406",children:"Step Function\u3092\u4f7f\u7528\u3057\u305f\u30bf\u30b9\u30af\u51e6\u7406"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Step Function\u30bf\u30b9\u30af\u30a4\u30d9\u30f3\u30c8\u306e\u5b9a\u7fa9"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { StepFunctionTaskEvent } from "@mbc-cqrs-serverless/task";\n\nexport class SfnTaskEvent extends StepFunctionTaskEvent {}\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:"Step Function\u30bf\u30b9\u30af\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u30fc\u306e\u5b9a\u7fa9"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import {\n  EventHandler,\n  IEventHandler,\n  StepFunctionService,\n} from "@mbc-cqrs-serverless/core";\nimport { TaskService } from "@mbc-cqrs-serverless/task";\nimport { Logger } from "@nestjs/common";\nimport { ConfigService } from "@nestjs/config";\n\nimport { SfnTaskEvent } from "./sfn-task.event";\n\n@EventHandler(SfnTaskEvent)\nexport class SfnTaskEventHandler implements IEventHandler<SfnTaskEvent> {\n  private readonly logger = new Logger(SfnTaskEventHandler.name);\n\n  constructor() {}\n\n  async execute(event: SfnTaskEvent): Promise<any> {\n    this.logger.debug("executing task event::", event);\n\n    //\n\n    return "Result after process";\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ITaskQueueEventFactory"}),"\u306e\u5b9f\u88c5"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import {\n  ITaskQueueEventFactory,\n  StepFunctionTaskEvent,\n} from "@mbc-cqrs-serverless/task";\nimport { SfnTaskEvent } from "src/sample/handler/sfn-task.event";\n\nexport class TaskQueueEventFactory implements ITaskQueueEventFactory {\n  async transformStepFunctionTask(event: StepFunctionTaskEvent): Promise<any[]> {\n    return [new SfnTaskEvent(event)];\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsxs)(n.li,{children:["\u30ab\u30b9\u30bf\u30e0",(0,a.jsx)(n.code,{children:"TaskModule"})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { TaskModule } from "@mbc-cqrs-serverless/task";\nimport { Module } from "@nestjs/common";\nimport { TaskEventHandler } from "src/sample/handler/task.handler";\n\nimport { TaskQueueEventFactory } from "./task-queue-event-factory";\n\n@Module({\n  imports: [\n    TaskModule.register({\n      taskQueueEventFactory: TaskQueueEventFactory,\n      enableController: true, // Optional: enable REST endpoints for task management\n    }),\n  ],\n  providers: [TaskEventHandler],\n  exports: [TaskModule],\n})\nexport class CustomTaskModule {}\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"5",children:["\n",(0,a.jsxs)(n.li,{children:["\u30ab\u30b9\u30bf\u30e0",(0,a.jsx)(n.code,{children:"EventFactoryAddedTask"})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { EventFactory, IEvent } from "@mbc-cqrs-serverless/core";\nimport { EventFactoryAddedTask, TaskEvent } from "@mbc-cqrs-serverless/task";\nimport { Logger } from "@nestjs/common";\nimport { DynamoDBStreamEvent } from "aws-lambda";\n\n@EventFactory()\nexport class CustomEventFactory extends EventFactoryAddedTask {\n  private readonly logger = new Logger(CustomEventFactory.name);\n  async transformDynamodbStream(event: DynamoDBStreamEvent): Promise<IEvent[]> {\n    const curEvents = await super.transformDynamodbStream(event);\n    const taskEvents = event.Records.map((record) => {\n      if (\n        record.eventSourceARN.endsWith("tasks") ||\n        record.eventSourceARN.includes("tasks" + "/stream/")\n      ) {\n        if (record.eventName === "INSERT") {\n          return new TaskEvent().fromDynamoDBRecord(record);\n        }\n      }\n      return undefined;\n    })\n      .filter((event) => !!event)\n      .filter((event) => event.taskEntity.sk.split("#").length < 3);\n\n    return [...curEvents, ...taskEvents];\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"6",children:["\n",(0,a.jsx)(n.li,{children:"Step Function\u30bf\u30b9\u30af\u306e\u4f5c\u6210"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'const item = [\n  { key: "value1" },\n  { key: "value2" },\n  { key: "value3" },\n  { key: "value4" },\n  { key: "value5" },\n  { key: "value6" },\n];\n\nawait this.taskService.createStepFunctionTask(\n  {\n    input: item,\n    taskType: "cat",\n    tenantCode: "mbc",\n  },\n  { invokeContext }\n);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"api\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9",children:"API\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9"}),"\n",(0,a.jsx)(n.h3,{id:"taskservice\u30e1\u30bd\u30c3\u30c9",children:"TaskService\u30e1\u30bd\u30c3\u30c9"}),"\n",(0,a.jsx)(n.h4,{id:"createtaskdto-createtaskdto-options--invokecontext-iinvoke--promisetaskentity",children:(0,a.jsx)(n.code,{children:"createTask(dto: CreateTaskDto, options: { invokeContext: IInvoke }): Promise<TaskEntity>"})}),"\n",(0,a.jsx)(n.p,{children:"\u5358\u4e00\u30bf\u30b9\u30af\u51e6\u7406\u7528\u306e\u65b0\u3057\u3044\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'const task = await this.taskService.createTask(\n  {\n    taskType: "data-export",\n    tenantCode: "mbc",\n    name: "Export user data",\n    input: { userId: "123", format: "csv" },\n  },\n  { invokeContext }\n);\n'})}),"\n",(0,a.jsx)(n.h4,{id:"createstepfunctiontaskdto-createtaskdto-options--invokecontext-iinvoke--promisetaskentity",children:(0,a.jsx)(n.code,{children:"createStepFunctionTask(dto: CreateTaskDto, options: { invokeContext: IInvoke }): Promise<TaskEntity>"})}),"\n",(0,a.jsx)(n.p,{children:"Step Functions\u51e6\u7406\u7528\u306e\u65b0\u3057\u3044\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u5165\u529b\u914d\u5217\u306f\u30b5\u30d6\u30bf\u30b9\u30af\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u307e\u3059\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'const task = await this.taskService.createStepFunctionTask(\n  {\n    taskType: "batch-process",\n    tenantCode: "mbc",\n    name: "Process batch items",\n    input: [{ id: 1 }, { id: 2 }, { id: 3 }],\n  },\n  { invokeContext }\n);\n'})}),"\n",(0,a.jsx)(n.h4,{id:"gettaskkey-detailkey-promisetaskentity",children:(0,a.jsx)(n.code,{children:"getTask(key: DetailKey): Promise<TaskEntity>"})}),"\n",(0,a.jsx)(n.p,{children:"\u30d7\u30e9\u30a4\u30de\u30ea\u30ad\u30fc\u3067\u30bf\u30b9\u30af\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'const task = await this.taskService.getTask({\n  pk: "TASK#mbc",\n  sk: "data-export#01HXYZ123",\n});\n'})}),"\n",(0,a.jsx)(n.h4,{id:"listitemsbypktenantcode-string-type-string-options-listtaskoptions-promisetasklistentity",children:(0,a.jsx)(n.code,{children:"listItemsByPk(tenantCode: string, type?: string, options?: ListTaskOptions): Promise<TaskListEntity>"})}),"\n",(0,a.jsx)(n.p,{children:"\u30c6\u30ca\u30f3\u30c8\u30b3\u30fc\u30c9\u3068\u30bf\u30a4\u30d7\u3067\u30bf\u30b9\u30af\u3092\u4e00\u89a7\u8868\u793a\u3057\u307e\u3059\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"ListTaskOptions:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"interface ListTaskOptions {\n  sk?: {\n    skExpession: string;\n    skAttributeValues: Record<string, string>;\n    skAttributeNames?: Record<string, string>;\n  };\n  startFromSk?: string;  // For pagination (\u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\u7528)\n  limit?: number;\n  order?: 'asc' | 'desc';\n}\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'// List all tasks for a tenant (\u30c6\u30ca\u30f3\u30c8\u306e\u3059\u3079\u3066\u306e\u30bf\u30b9\u30af\u3092\u4e00\u89a7\u8868\u793a)\nconst tasks = await this.taskService.listItemsByPk("mbc", "TASK", {\n  limit: 10,\n  order: "desc",\n});\n\n// List Step Function tasks (Step Function\u30bf\u30b9\u30af\u3092\u4e00\u89a7\u8868\u793a)\nconst sfnTasks = await this.taskService.listItemsByPk("mbc", "SFN_TASK");\n\n// Paginate through results (\u7d50\u679c\u3092\u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3)\nconst nextPage = await this.taskService.listItemsByPk("mbc", "TASK", {\n  startFromSk: tasks.lastSk,\n  limit: 10,\n});\n'})}),"\n",(0,a.jsx)(n.h4,{id:"createsubtaskevent-taskqueueevent-promisetaskentity",children:(0,a.jsx)(n.code,{children:"createSubTask(event: TaskQueueEvent): Promise<TaskEntity[]>"})}),"\n",(0,a.jsx)(n.p,{children:"\u89aa\u30bf\u30b9\u30af\u306e\u5165\u529b\u914d\u5217\u304b\u3089\u30b5\u30d6\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u5165\u529b\u914d\u5217\u306e\u5404\u9805\u76ee\u304c\u500b\u5225\u306e\u30b5\u30d6\u30bf\u30b9\u30af\u306b\u306a\u308a\u307e\u3059\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"// Typically called within a TaskQueueEvent handler (\u901a\u5e38\u3001TaskQueueEvent\u30cf\u30f3\u30c9\u30e9\u30fc\u5185\u3067\u547c\u3073\u51fa\u3059)\nconst subTasks = await this.taskService.createSubTask(event);\n// Returns array of TaskEntity for each input item (\u5404\u5165\u529b\u9805\u76ee\u306b\u5bfe\u3059\u308bTaskEntity\u306e\u914d\u5217\u3092\u8fd4\u3059)\n"})}),"\n",(0,a.jsx)(n.h4,{id:"getallsubtasksubtask-detailkey-promisetaskentity",children:(0,a.jsx)(n.code,{children:"getAllSubTask(subTask: DetailKey): Promise<TaskEntity[]>"})}),"\n",(0,a.jsx)(n.p,{children:"\u89aa\u30bf\u30b9\u30af\u306e\u3059\u3079\u3066\u306e\u30b5\u30d6\u30bf\u30b9\u30af\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'const subTasks = await this.taskService.getAllSubTask({\n  pk: "SFN_TASK#mbc",\n  sk: "batch-process#01HXYZ123#0", // Any subtask key (\u4efb\u610f\u306e\u30b5\u30d6\u30bf\u30b9\u30af\u30ad\u30fc)\n});\n// Returns all subtasks under the parent task (\u89aa\u30bf\u30b9\u30af\u914d\u4e0b\u306e\u3059\u3079\u3066\u306e\u30b5\u30d6\u30bf\u30b9\u30af\u3092\u8fd4\u3059)\n'})}),"\n",(0,a.jsx)(n.h4,{id:"updatestatuskey-detailkey-status-string-attributes--result-any-error-any--notifyid-string-promisevoid",children:(0,a.jsx)(n.code,{children:"updateStatus(key: DetailKey, status: string, attributes?: { result?: any; error?: any }, notifyId?: string): Promise<void>"})}),"\n",(0,a.jsx)(n.p,{children:"\u30bf\u30b9\u30af\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u66f4\u65b0\u3057\u3001SNS\u901a\u77e5\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'// Mark task as completed (\u30bf\u30b9\u30af\u3092\u5b8c\u4e86\u3068\u3057\u3066\u30de\u30fc\u30af)\nawait this.taskService.updateStatus(\n  { pk: "TASK#mbc", sk: "data-export#01HXYZ123" },\n  "COMPLETED",\n  { result: { exportedRows: 100 } }\n);\n\n// Mark task as failed (\u30bf\u30b9\u30af\u3092\u5931\u6557\u3068\u3057\u3066\u30de\u30fc\u30af)\nawait this.taskService.updateStatus(\n  { pk: "TASK#mbc", sk: "data-export#01HXYZ123" },\n  "FAILED",\n  { error: { message: "Export failed", code: "EXPORT_ERROR" } }\n);\n'})}),"\n",(0,a.jsx)(n.h4,{id:"updatesubtaskstatuskey-detailkey-status-string-attributes--result-any-error-any--notifyid-string-promisevoid",children:(0,a.jsx)(n.code,{children:"updateSubTaskStatus(key: DetailKey, status: string, attributes?: { result?: any; error?: any }, notifyId?: string): Promise<void>"})}),"\n",(0,a.jsxs)(n.p,{children:["\u30b5\u30d6\u30bf\u30b9\u30af\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u66f4\u65b0\u3057\u3001\u30a2\u30af\u30b7\u30e7\u30f3",(0,a.jsx)(n.code,{children:'"sub-task-status"'}),"\u3067SNS\u901a\u77e5\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'await this.taskService.updateSubTaskStatus(\n  { pk: "SFN_TASK#mbc", sk: "batch-process#01HXYZ123#0" },\n  "COMPLETED",\n  { result: { processedItem: { id: 1 } } }\n);\n'})}),"\n",(0,a.jsx)(n.h4,{id:"updatestepfunctiontaskkey-detailkey-attributes-recordstring-any-status-string-notifyid-string-promisevoid",children:(0,a.jsx)(n.code,{children:"updateStepFunctionTask(key: DetailKey, attributes?: Record<string, any>, status?: string, notifyId?: string): Promise<void>"})}),"\n",(0,a.jsx)(n.p,{children:"\u5c5e\u6027\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u3067Step Function\u30bf\u30b9\u30af\u3092\u66f4\u65b0\u3057\u3001SNS\u901a\u77e5\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'await this.taskService.updateStepFunctionTask(\n  { pk: "SFN_TASK#mbc", sk: "batch-process#01HXYZ123" },\n  { executionArn: "arn:aws:states:..." },\n  "PROCESSING"\n);\n'})}),"\n",(0,a.jsx)(n.h4,{id:"publishalarmevent-taskqueueevent--stepfunctiontaskevent-errordetails-any-promisevoid",children:(0,a.jsx)(n.code,{children:"publishAlarm(event: TaskQueueEvent | StepFunctionTaskEvent, errorDetails: any): Promise<void>"})}),"\n",(0,a.jsx)(n.p,{children:"\u30bf\u30b9\u30af\u51e6\u7406\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u969b\u306bSNS\u7d4c\u7531\u3067\u30a2\u30e9\u30fc\u30e0\u901a\u77e5\u3092\u767a\u884c\u3057\u307e\u3059\u3002\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u901a\u5e38\u3001\u30bf\u30b9\u30af\u51e6\u7406\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30e9\u30fc\u304b\u3089\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"try {\n  // Process task (\u30bf\u30b9\u30af\u3092\u51e6\u7406)\n  await this.processTask(event);\n} catch (error) {\n  // Send alarm notification (\u30a2\u30e9\u30fc\u30e0\u901a\u77e5\u3092\u9001\u4fe1)\n  await this.taskService.publishAlarm(event, {\n    message: error.message,\n    stack: error.stack,\n  });\n  throw error;\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u30a2\u30e9\u30fc\u30e0\u901a\u77e5\u306b\u542b\u307e\u308c\u308b\u60c5\u5831:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\u30bf\u30b9\u30af\u30ad\u30fc (",(0,a.jsx)(n.code,{children:"pk"}),", ",(0,a.jsx)(n.code,{children:"sk"}),")"]}),"\n",(0,a.jsx)(n.li,{children:"\u30c6\u30ca\u30f3\u30c8\u30b3\u30fc\u30c9"}),"\n",(0,a.jsx)(n.li,{children:"\u30a8\u30e9\u30fc\u8a73\u7d30"}),"\n",(0,a.jsxs)(n.li,{children:["\u30a2\u30af\u30b7\u30e7\u30f3\u30bf\u30a4\u30d7: ",(0,a.jsx)(n.code,{children:'"sfn-alarm"'})]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"formattaskstatustasks-taskentity-promiseobject",children:(0,a.jsx)(n.code,{children:"formatTaskStatus(tasks: TaskEntity[]): Promise<object>"})}),"\n",(0,a.jsx)(n.p,{children:"\u30b5\u30d6\u30bf\u30b9\u30af\u6570\u3092\u8a08\u7b97\u3057\u30b9\u30c6\u30fc\u30bf\u30b9\u60c5\u5831\u3092\u96c6\u8a08\u3057\u3066\u30bf\u30b9\u30af\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u307e\u3059\u3002UI\u3067\u306e\u30bf\u30b9\u30af\u9032\u6357\u8868\u793a\u306b\u4fbf\u5229\u3067\u3059\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'// Get all subtasks for a parent task (\u89aa\u30bf\u30b9\u30af\u306e\u3059\u3079\u3066\u306e\u30b5\u30d6\u30bf\u30b9\u30af\u3092\u53d6\u5f97)\nconst subTasks = await this.taskService.getAllSubTask({\n  pk: "SFN_TASK#mbc",\n  sk: "batch-process#01HXYZ123#0"\n});\n\nconst formattedStatus = await this.taskService.formatTaskStatus(subTasks);\n// \u623b\u308a\u5024:\n// {\n//   subTaskCount: 10,           // \u30b5\u30d6\u30bf\u30b9\u30af\u306e\u7dcf\u6570\n//   subTaskSucceedCount: 7,     // \u5b8c\u4e86\u3057\u305f\u30b5\u30d6\u30bf\u30b9\u30af\u306e\u6570\n//   subTaskFailedCount: 1,      // \u5931\u6557\u3057\u305f\u30b5\u30d6\u30bf\u30b9\u30af\u306e\u6570\n//   subTaskRunningCount: 2,     // \u9032\u884c\u4e2d\u306e\u30b5\u30d6\u30bf\u30b9\u30af\u306e\u6570\n//   subTasks: [                 // Array of subtask summaries (\u30b5\u30d6\u30bf\u30b9\u30af\u30b5\u30de\u30ea\u30fc\u306e\u914d\u5217)\n//     { pk: "...", sk: "...", status: "COMPLETED" },\n//     ...\n//   ]\n// }\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u623b\u308a\u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u69cb\u9020:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"{\n  subTaskCount: number;        // \u30b5\u30d6\u30bf\u30b9\u30af\u306e\u5408\u8a08\u6570\n  subTaskSucceedCount: number; // COMPLETED\u30b5\u30d6\u30bf\u30b9\u30af\n  subTaskFailedCount: number;  // FAILED\u30b5\u30d6\u30bf\u30b9\u30af\n  subTaskRunningCount: number; // PROCESSING\u30b5\u30d6\u30bf\u30b9\u30af\n  subTasks: Array<{            // Subtask summary array (\u30b5\u30d6\u30bf\u30b9\u30af\u30b5\u30de\u30ea\u30fc\u914d\u5217)\n    pk: string;\n    sk: string;\n    status: string;\n  }>;\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u30bf\u30b9\u30af\u30b9\u30c6\u30fc\u30bf\u30b9\u5024",children:"\u30bf\u30b9\u30af\u30b9\u30c6\u30fc\u30bf\u30b9\u5024"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,a.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"CREATED"})}),(0,a.jsx)(n.td,{children:"\u30bf\u30b9\u30af\u306f\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u304c\u3001\u307e\u3060\u958b\u59cb\u3055\u308c\u3066\u3044\u307e\u305b\u3093"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"QUEUED"})}),(0,a.jsx)(n.td,{children:"\u30bf\u30b9\u30af\u306f\u51e6\u7406\u306e\u305f\u3081\u306b\u30ad\u30e5\u30fc\u306b\u5165\u308c\u3089\u308c\u307e\u3057\u305f"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"STARTED"})}),(0,a.jsx)(n.td,{children:"\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u304c\u958b\u59cb\u3055\u308c\u307e\u3057\u305f"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"PROCESSING"})}),(0,a.jsx)(n.td,{children:"\u30bf\u30b9\u30af\u306f\u73fe\u5728\u51e6\u7406\u4e2d\u3067\u3059"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"FINISHED"})}),(0,a.jsx)(n.td,{children:"\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"COMPLETED"})}),(0,a.jsx)(n.td,{children:"\u30bf\u30b9\u30af\u306f\u6b63\u5e38\u306b\u5b8c\u4e86\u3057\u307e\u3057\u305f"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"ERRORED"})}),(0,a.jsx)(n.td,{children:"\u30bf\u30b9\u30af\u306f\u5b9f\u884c\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"FAILED"})}),(0,a.jsx)(n.td,{children:"\u30bf\u30b9\u30af\u306f\u30a8\u30e9\u30fc\u3067\u5931\u6557\u3057\u307e\u3057\u305f"})]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"createtaskdto",children:"CreateTaskDto"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"CreateTaskDto"}),"\u30af\u30e9\u30b9\u306f\u3001\u65b0\u3057\u3044\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u69cb\u9020\u3092\u5b9a\u7fa9\u3057\u307e\u3059\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"interface CreateTaskDto {\n  tenantCode: string;  // Required: Tenant identifier (\u5fc5\u9808: \u30c6\u30ca\u30f3\u30c8\u8b58\u5225\u5b50)\n  taskType: string;    // Required: Type/category of the task (\u5fc5\u9808: \u30bf\u30b9\u30af\u306e\u30bf\u30a4\u30d7/\u30ab\u30c6\u30b4\u30ea)\n  name?: string;       // Optional: Display name (defaults to taskType) (\u30aa\u30d7\u30b7\u30e7\u30f3: \u8868\u793a\u540d\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306ftaskType)\n  input: Record<string, any> | any[];  // Required: Task input data (\u5fc5\u9808: \u30bf\u30b9\u30af\u5165\u529b\u30c7\u30fc\u30bf)\n}\n"})}),"\n",(0,a.jsx)(n.admonition,{title:"Step Functions\u7528\u306e\u5165\u529b\u5f62\u5f0f",type:"info",children:(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"createStepFunctionTask()"})," \u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001",(0,a.jsx)(n.code,{children:"input"})," \u30d5\u30a3\u30fc\u30eb\u30c9\u306f ",(0,a.jsx)(n.strong,{children:"\u914d\u5217"})," \u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u914d\u5217\u5185\u306e\u5404\u9805\u76ee\u306f\u3001Step Functions\u306eMap\u30b9\u30c6\u30fc\u30c8\u3067\u51e6\u7406\u3055\u308c\u308b\u500b\u5225\u306e\u30b5\u30d6\u30bf\u30b9\u30af\u306b\u306a\u308a\u307e\u3059\u3002",(0,a.jsx)(n.code,{children:"createTask()"})," \u306b\u3088\u308b\u5358\u4e00\u30bf\u30b9\u30af\u51e6\u7406\u306e\u5834\u5408\u3001\u5165\u529b\u306f\u4efb\u610f\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u69cb\u3044\u307e\u305b\u3093\u3002"]})}),"\n",(0,a.jsx)(n.h3,{id:"itaskqueueeventfactory\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9",children:"ITaskQueueEventFactory\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"ITaskQueueEventFactory"}),"\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u3001\u30bf\u30b9\u30af\u30a4\u30d9\u30f3\u30c8\u3092\u5909\u63db\u3059\u308b\u305f\u3081\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u4f7f\u7528\u3059\u308b\u30b1\u30fc\u30b9\u306b\u95a2\u9023\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306e\u307f\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"interface ITaskQueueEventFactory<TEvent extends IEvent = any> {\n  transformTask?(event: TaskQueueEvent): Promise<TEvent[]>;           // Optional: For single task processing (\u30aa\u30d7\u30b7\u30e7\u30f3: \u5358\u4e00\u30bf\u30b9\u30af\u51e6\u7406\u7528)\n  transformStepFunctionTask?(event: StepFunctionTaskEvent): Promise<TEvent[]>;  // Optional: For Step Function task processing (\u30aa\u30d7\u30b7\u30e7\u30f3: Step Function\u30bf\u30b9\u30af\u51e6\u7406\u7528)\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u6ce8\u610f: \u4e21\u65b9\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u3002\u5358\u4e00\u30bf\u30b9\u30af\u51e6\u7406\u306b\u306f",(0,a.jsx)(n.code,{children:"transformTask"}),"\u3092\u3001Step Function\u30bf\u30b9\u30af\u51e6\u7406\u306b\u306f",(0,a.jsx)(n.code,{children:"transformStepFunctionTask"}),"\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u4e21\u65b9\u306e\u30bf\u30a4\u30d7\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u4e21\u65b9\u3092\u5b9f\u88c5\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(6540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);