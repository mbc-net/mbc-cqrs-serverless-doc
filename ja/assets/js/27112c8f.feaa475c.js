"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[1911],{144:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"api-integration-patterns","title":"API\u7d71\u5408\u30d1\u30bf\u30fc\u30f3","description":"\u751f\u6210\u3055\u308c\u305fOpenAPI SDK\u3092\u4f7f\u7528\u3057\u3066\u3001\u578b\u5b89\u5168\u306aAPI\u30b3\u30fc\u30eb\u3067\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3068\u7d71\u5408\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/api-integration-patterns.md","sourceDirName":".","slug":"/api-integration-patterns","permalink":"/ja/docs/api-integration-patterns","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"description":"\u751f\u6210\u3055\u308c\u305fOpenAPI SDK\u3092\u4f7f\u7528\u3057\u3066\u3001\u578b\u5b89\u5168\u306aAPI\u30b3\u30fc\u30eb\u3067\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3068\u7d71\u5408\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002"},"sidebar":"tutorialSidebar","previous":{"title":"\u72b6\u614b\u7ba1\u7406\u30d1\u30bf\u30fc\u30f3","permalink":"/ja/docs/state-management-patterns"},"next":{"title":"\u30d5\u30a9\u30fc\u30e0\u51e6\u7406\u30d1\u30bf\u30fc\u30f3","permalink":"/ja/docs/form-handling-patterns"}}');var s=r(4848),i=r(8453);const o={description:"\u751f\u6210\u3055\u308c\u305fOpenAPI SDK\u3092\u4f7f\u7528\u3057\u3066\u3001\u578b\u5b89\u5168\u306aAPI\u30b3\u30fc\u30eb\u3067\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3068\u7d71\u5408\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002"},a="API\u7d71\u5408\u30d1\u30bf\u30fc\u30f3",c={},d=[{value:"\u3053\u306e\u30ac\u30a4\u30c9\u3092\u4f7f\u7528\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0",id:"\u3053\u306e\u30ac\u30a4\u30c9\u3092\u4f7f\u7528\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0",level:2},{value:"\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u89e3\u6c7a\u3059\u308b\u554f\u984c",id:"\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u89e3\u6c7a\u3059\u308b\u554f\u984c",level:2},{value:"SDK\u751f\u6210\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7",id:"sdk\u751f\u6210\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7",level:2},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u578b\u5b89\u5168\u306aAPI\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u751f\u6210",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u578b\u5b89\u5168\u306aapi\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u751f\u6210",level:3},{value:"\u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",id:"\u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",level:3},{value:"\u8a2d\u5b9a",id:"\u8a2d\u5b9a",level:3},{value:"Package.json\u30b9\u30af\u30ea\u30d7\u30c8",id:"packagejson\u30b9\u30af\u30ea\u30d7\u30c8",level:3},{value:"\u751f\u6210\u3055\u308c\u308bSDK\u69cb\u9020",id:"\u751f\u6210\u3055\u308c\u308bsdk\u69cb\u9020",level:2},{value:"\u751f\u6210\u3055\u308c\u308b\u578b\u306e\u4f8b",id:"\u751f\u6210\u3055\u308c\u308b\u578b\u306e\u4f8b",level:3},{value:"\u751f\u6210\u3055\u308c\u308b\u30b5\u30fc\u30d3\u30b9\u306e\u4f8b",id:"\u751f\u6210\u3055\u308c\u308b\u30b5\u30fc\u30d3\u30b9\u306e\u4f8b",level:3},{value:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a",id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a",level:2},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u3059\u3079\u3066\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u8a8d\u8a3c\u3092\u8ffd\u52a0",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3059\u3079\u3066\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u8a8d\u8a3c\u3092\u8ffd\u52a0",level:3},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u4ed8\u304dAPI\u30e9\u30c3\u30d1\u30fc\u306e\u4f5c\u6210",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u4ed8\u304dapi\u30e9\u30c3\u30d1\u30fc\u306e\u4f5c\u6210",level:3},{value:"React Query\u7d71\u5408",id:"react-query\u7d71\u5408",level:2},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u30ad\u30e3\u30c3\u30b7\u30e5\u4ed8\u304d\u30c7\u30fc\u30bf\u30d5\u30a7\u30c3\u30c1",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30ad\u30e3\u30c3\u30b7\u30e5\u4ed8\u304d\u30c7\u30fc\u30bf\u30d5\u30a7\u30c3\u30c1",level:3},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u4ed8\u304d\u88fd\u54c1\u30ea\u30b9\u30c8",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u4ed8\u304d\u88fd\u54c1\u30ea\u30b9\u30c8",level:3},{value:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",id:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",level:2},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u69cb\u9020\u5316\u3055\u308c\u305f\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u69cb\u9020\u5316\u3055\u308c\u305f\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9",level:3},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u4e00\u5143\u5316\u3055\u308c\u305f\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30e9\u30fc",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u4e00\u5143\u5316\u3055\u308c\u305f\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30e9\u30fc",level:3},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u30d5\u30a3\u30fc\u30eb\u30c9\u8a73\u7d30\u4ed8\u304d\u30a8\u30e9\u30fc\u8868\u793a",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30d5\u30a3\u30fc\u30eb\u30c9\u8a73\u7d30\u4ed8\u304d\u30a8\u30e9\u30fc\u8868\u793a",level:3},{value:"\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8API\u547c\u3073\u51fa\u3057",id:"\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8api\u547c\u3073\u51fa\u3057",level:2},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1aSaaS\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u30c6\u30ca\u30f3\u30c8\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9saas\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u30c6\u30ca\u30f3\u30c8\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8",level:3},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u30c6\u30ca\u30f3\u30c8\u30b9\u30b3\u30fc\u30d7\u306e\u30af\u30a8\u30ea",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30c6\u30ca\u30f3\u30c8\u30b9\u30b3\u30fc\u30d7\u306e\u30af\u30a8\u30ea",level:3},{value:"\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7d71\u5408",id:"\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7d71\u5408",level:2},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1aAPI\u7d4c\u7531\u3067S3\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9api\u7d4c\u7531\u3067s3\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",level:3},{value:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:2},{value:"1. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u5909\u66f4\u5f8c\u306f\u5fc5\u305aSDK\u3092\u518d\u751f\u6210\u3059\u308b",id:"1-\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u5909\u66f4\u5f8c\u306f\u5fc5\u305asdk\u3092\u518d\u751f\u6210\u3059\u308b",level:3},{value:"2. \u578b\u30ac\u30fc\u30c9\u3092\u4f7f\u7528\u3059\u308b",id:"2-\u578b\u30ac\u30fc\u30c9\u3092\u4f7f\u7528\u3059\u308b",level:3},{value:"3. \u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u3068\u30a8\u30e9\u30fc\u72b6\u614b\u3092\u51e6\u7406\u3059\u308b",id:"3-\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u3068\u30a8\u30e9\u30fc\u72b6\u614b\u3092\u51e6\u7406\u3059\u308b",level:3},{value:"4. \u66f4\u65b0\u6642\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u51e6\u7406",id:"4-\u66f4\u65b0\u6642\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u51e6\u7406",level:3},{value:"5. \u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a",id:"5-\u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"api\u7d71\u5408\u30d1\u30bf\u30fc\u30f3",children:"API\u7d71\u5408\u30d1\u30bf\u30fc\u30f3"})}),"\n",(0,s.jsx)(n.p,{children:"\u3053\u306e\u30ac\u30a4\u30c9\u3067\u306f\u3001\u81ea\u52d5\u751f\u6210\u3055\u308c\u305fTypeScript SDK\u3092\u4f7f\u7528\u3057\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092MBC CQRS Serverless\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u63a5\u7d9a\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002\u578b\u5b89\u5168\u306aAPI\u7d71\u5408\u306b\u3088\u308a\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u30a8\u30e9\u30fc\u3092\u691c\u51fa\u3057\u3001\u30aa\u30fc\u30c8\u30b3\u30f3\u30d7\u30ea\u30fc\u30c8\u306b\u3088\u308b\u512a\u308c\u305f\u958b\u767a\u8005\u4f53\u9a13\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u3053\u306e\u30ac\u30a4\u30c9\u3092\u4f7f\u7528\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0",children:"\u3053\u306e\u30ac\u30a4\u30c9\u3092\u4f7f\u7528\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0"}),"\n",(0,s.jsx)(n.p,{children:"\u4ee5\u4e0b\u306e\u5834\u5408\u306b\u3053\u306e\u30ac\u30a4\u30c9\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Next.js\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092MBC CQRS Serverless API\u306b\u63a5\u7d9a\u3059\u308b"}),"\n",(0,s.jsx)(n.li,{children:"OpenAPI\u4ed5\u69d8\u304b\u3089TypeScript\u578b\u3092\u751f\u6210\u3059\u308b"}),"\n",(0,s.jsx)(n.li,{children:"API\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u8a8d\u8a3c\u30d8\u30c3\u30c0\u30fc\u3092\u81ea\u52d5\u7684\u306b\u8ffd\u52a0\u3059\u308b"}),"\n",(0,s.jsx)(n.li,{children:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5168\u4f53\u3067\u4e00\u8cab\u3057\u305fAPI\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u884c\u3046"}),"\n",(0,s.jsx)(n.li,{children:"\u30c6\u30ca\u30f3\u30c8\u30d8\u30c3\u30c0\u30fc\u3092\u4f7f\u7528\u3057\u305f\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8API\u547c\u3073\u51fa\u3057\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u89e3\u6c7a\u3059\u308b\u554f\u984c",children:"\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u89e3\u6c7a\u3059\u308b\u554f\u984c"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u554f\u984c"}),(0,s.jsx)(n.th,{children:"\u89e3\u6c7a\u7b56"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u578b\u304c\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3068\u4e00\u81f4\u3057\u306a\u3044"}),(0,s.jsx)(n.td,{children:"OpenAPI\u4ed5\u69d8\u304b\u3089SDK\u3092\u751f\u6210 - \u578b\u304c\u5e38\u306b\u4e00\u81f4"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u3092\u8ffd\u52a0\u3057\u5fd8\u308c\u308b"}),(0,s.jsx)(n.td,{children:"\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30bf\u30fc\u3092\u4f7f\u7528\u3057\u3066\u30d8\u30c3\u30c0\u30fc\u3092\u81ea\u52d5\u7684\u306b\u8ffd\u52a0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u9593\u3067\u30a8\u30e9\u30fc\u51e6\u7406\u304c\u4e00\u8cab\u3057\u3066\u3044\u306a\u3044"}),(0,s.jsx)(n.td,{children:"API\u30e9\u30c3\u30d1\u30fc\u3067\u30a8\u30e9\u30fc\u51e6\u7406\u3092\u4e00\u5143\u5316"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u4e00\u90e8\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u30c6\u30ca\u30f3\u30c8\u30d8\u30c3\u30c0\u30fc\u304c\u6b20\u843d"}),(0,s.jsx)(n.td,{children:"\u30b9\u30c8\u30a2\u304b\u3089\u8aad\u307f\u53d6\u308b\u30c6\u30ca\u30f3\u30c8\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30bf\u30fc\u3092\u8ffd\u52a0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"API\u5909\u66f4\u6642\u306e\u66f4\u65b0\u304c\u56f0\u96e3"}),(0,s.jsx)(n.td,{children:"1\u3064\u306e\u30b3\u30de\u30f3\u30c9\u3067SDK\u3092\u518d\u751f\u6210"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"sdk\u751f\u6210\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7",children:"SDK\u751f\u6210\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7"}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u578b\u5b89\u5168\u306aapi\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u751f\u6210",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u578b\u5b89\u5168\u306aAPI\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u751f\u6210"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30c1\u30fc\u30e0\u304cAPI\u3092\u66f4\u65b0\u3057\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u578b\u3092\u4e00\u81f4\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u89e3\u6c7a\u7b56\uff1a\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304c\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308bOpenAPI\u4ed5\u69d8\u30d5\u30a1\u30a4\u30eb\u304b\u3089SDK\u3092\u751f\u6210\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",children:"\u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install @hey-api/client-fetch\nnpm install -D @hey-api/openapi-ts\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u8a2d\u5b9a",children:"\u8a2d\u5b9a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// openapi-ts.config.ts\nimport { defineConfig } from '@hey-api/openapi-ts';\n\nexport default defineConfig({\n  client: '@hey-api/client-fetch',\n  input: './openapi.json', // or URL to OpenAPI spec\n  output: {\n    path: 'src/services/sdk',\n    format: 'prettier',\n  },\n  services: {\n    asClass: true,\n  },\n  types: {\n    enums: 'javascript',\n  },\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"packagejson\u30b9\u30af\u30ea\u30d7\u30c8",children:"Package.json\u30b9\u30af\u30ea\u30d7\u30c8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "generate-sdk": "openapi-ts",\n    "generate-sdk:watch": "openapi-ts --watch"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u751f\u6210\u3055\u308c\u308bsdk\u69cb\u9020",children:"\u751f\u6210\u3055\u308c\u308bSDK\u69cb\u9020"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"npm run generate-sdk"}),"\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"src/services/sdk/\n\u251c\u2500\u2500 client/\n\u2502   \u2514\u2500\u2500 client.ts          # HTTP client configuration\n\u251c\u2500\u2500 types.gen.ts           # Generated TypeScript types\n\u251c\u2500\u2500 services.gen.ts        # Generated service classes\n\u2514\u2500\u2500 index.ts               # Main exports\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u751f\u6210\u3055\u308c\u308b\u578b\u306e\u4f8b",children:"\u751f\u6210\u3055\u308c\u308b\u578b\u306e\u4f8b"}),"\n",(0,s.jsx)(n.p,{children:"\u3053\u308c\u3089\u306e\u578b\u306fOpenAPI\u4ed5\u69d8\u304b\u3089\u751f\u6210\u3055\u308c\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u5b8c\u5168\u306b\u4e00\u81f4\u3057\u307e\u3059\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/services/sdk/types.gen.ts (auto-generated)\nexport interface Product {\n  id: string;\n  pk: string;\n  sk: string;\n  code: string;\n  name: string;\n  price: number;\n  status: ProductStatus;\n  attributes: ProductAttributes;\n  version: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface CreateProductDto {\n  code: string;\n  name: string;\n  price: number;\n  attributes?: ProductAttributes;\n}\n\nexport interface UpdateProductDto {\n  name?: string;\n  price?: number;\n  status?: ProductStatus;\n  attributes?: ProductAttributes;\n  version: number; // Required for optimistic locking\n}\n\nexport interface ProductListResponse {\n  items: Product[];\n  count: number;\n  hasMore: boolean;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u751f\u6210\u3055\u308c\u308b\u30b5\u30fc\u30d3\u30b9\u306e\u4f8b",children:"\u751f\u6210\u3055\u308c\u308b\u30b5\u30fc\u30d3\u30b9\u306e\u4f8b"}),"\n",(0,s.jsx)(n.p,{children:"\u30b5\u30fc\u30d3\u30b9\u30af\u30e9\u30b9\u306f\u5404API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u578b\u4ed8\u304d\u30e1\u30bd\u30c3\u30c9\u3092\u63d0\u4f9b\u3057\u307e\u3059\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/services/sdk/services.gen.ts (auto-generated)\nexport class ProductService {\n  static list(options?: { query?: ProductListParams }): Promise<ProductListResponse>;\n  static get(options: { path: { pk: string; sk: string}}): Promise<Product>;\n  static create(options: { body: CreateProductDto }): Promise<Product>;\n  static update(options: { path: { pk: string; sk: string }; body: UpdateProductDto }): Promise<Product>;\n  static delete(options: { path: { pk: string; sk: string}}): Promise<void>;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a"}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3059\u3079\u3066\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u8a8d\u8a3c\u3092\u8ffd\u52a0",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u3059\u3079\u3066\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u8a8d\u8a3c\u3092\u8ffd\u52a0"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u3059\u3079\u3066\u306eAPI\u30ea\u30af\u30a8\u30b9\u30c8\u306bCognito\u304b\u3089\u306eBearer\u30c8\u30fc\u30af\u30f3\u304c\u5fc5\u8981\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u554f\u984c\uff1a\u5404\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u624b\u52d5\u3067\u30d8\u30c3\u30c0\u30fc\u3092\u8ffd\u52a0\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3084\u3059\u3044\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u89e3\u6c7a\u7b56\uff1a\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30bf\u30fc\u3092\u4f7f\u7528\u3057\u3066\u8a8d\u8a3c\u30d8\u30c3\u30c0\u30fc\u3092\u81ea\u52d5\u7684\u306b\u8ffd\u52a0\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/lib/api/client.ts\nimport { client } from '@/services/sdk/client';\nimport { fetchAuthSession } from 'aws-amplify/auth';\n\n// Configure the base URL\nclient.setConfig({\n  baseUrl: process.env.NEXT_PUBLIC_API_URL,\n});\n\n// Add authentication interceptor\nclient.interceptors.request.use(async (request) => {\n  try {\n    const session = await fetchAuthSession();\n    const token = session.tokens?.idToken?.toString();\n\n    if (token) {\n      request.headers.set('Authorization', `Bearer ${token}`);\n    }\n  } catch (error) {\n    console.error('Failed to get auth token:', error);\n  }\n\n  return request;\n});\n\n// Add tenant header interceptor\nclient.interceptors.request.use((request) => {\n  const tenantCode = getTenantFromStore(); // Get from Zustand store\n  if (tenantCode) {\n    request.headers.set('X-Tenant-Code', tenantCode);\n  }\n  return request;\n});\n\n// Add error handling interceptor\nclient.interceptors.response.use((response) => {\n  if (!response.ok) {\n    // Handle specific error codes\n    if (response.status === 401) {\n      // Redirect to login\n      window.location.href = '/login';\n    }\n  }\n  return response;\n});\n\nexport { client };\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u4ed8\u304dapi\u30e9\u30c3\u30d1\u30fc\u306e\u4f5c\u6210",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u4ed8\u304dAPI\u30e9\u30c3\u30d1\u30fc\u306e\u4f5c\u6210"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u610f\u5473\u306e\u3042\u308b\u30a8\u30e9\u30fc\u3092\u30b9\u30ed\u30fc\u3059\u308b\u30af\u30ea\u30fc\u30f3\u306aAPI\u304c\u5fc5\u8981\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u554f\u984c\uff1a\u751f\u6210\u3055\u308c\u305fSDK\u306f",(0,s.jsx)(n.code,{children:"{ data, error }"}),"\u3092\u8fd4\u3059\u305f\u3081\u3001\u3059\u3079\u3066\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u51e6\u7406\u304c\u5fc5\u8981\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u89e3\u6c7a\u7b56\uff1aReact Query\u3067\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u30a8\u30e9\u30fc\u6642\u306b\u30b9\u30ed\u30fc\u3059\u308b\u30e9\u30c3\u30d1\u30fc\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/services/api/products.ts\nimport { ProductService, CreateProductDto, UpdateProductDto } from '@/services/sdk';\nimport type { Product, ProductListResponse } from '@/services/sdk';\n\nexport interface ProductFilters {\n  status?: string;\n  category?: string;\n  search?: string;\n  page?: number;\n  limit?: number;\n}\n\nexport const productApi = {\n  async list(filters: ProductFilters = {}): Promise<ProductListResponse> {\n    const { data, error } = await ProductService.list({\n      query: {\n        status: filters.status,\n        category: filters.category,\n        q: filters.search,\n        page: filters.page ?? 1,\n        limit: filters.limit ?? 20,\n      },\n    });\n\n    if (error) {\n      throw new Error(error.message || 'Failed to fetch products');\n    }\n\n    return data;\n  },\n\n  async get(pk: string, sk: string): Promise<Product> {\n    const { data, error } = await ProductService.get({\n      path: { pk, sk },\n    });\n\n    if (error) {\n      throw new Error(error.message || 'Failed to fetch product');\n    }\n\n    return data;\n  },\n\n  async create(dto: CreateProductDto): Promise<Product> {\n    const { data, error } = await ProductService.create({\n      body: dto,\n    });\n\n    if (error) {\n      throw new Error(error.message || 'Failed to create product');\n    }\n\n    return data;\n  },\n\n  async update(pk: string, sk: string, dto: UpdateProductDto): Promise<Product> {\n    const { data, error } = await ProductService.update({\n      path: { pk, sk },\n      body: dto,\n    });\n\n    if (error) {\n      throw new Error(error.message || 'Failed to update product');\n    }\n\n    return data;\n  },\n\n  async delete(pk: string, sk: string): Promise<void> {\n    const { error } = await ProductService.delete({\n      path: { pk, sk },\n    });\n\n    if (error) {\n      throw new Error(error.message || 'Failed to delete product');\n    }\n  },\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"react-query\u7d71\u5408",children:"React Query\u7d71\u5408"}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30ad\u30e3\u30c3\u30b7\u30e5\u4ed8\u304d\u30c7\u30fc\u30bf\u30d5\u30a7\u30c3\u30c1",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u30ad\u30e3\u30c3\u30b7\u30e5\u4ed8\u304d\u30c7\u30fc\u30bf\u30d5\u30a7\u30c3\u30c1"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u52b9\u7387\u7684\u306a\u30ad\u30e3\u30c3\u30b7\u30e5\u3067\u88fd\u54c1\u30ea\u30b9\u30c8\u3068\u8a73\u7d30\u30da\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u89e3\u6c7a\u7b56\uff1aAPI\u30e9\u30c3\u30d1\u30fc\u3092\u4f7f\u7528\u3059\u308bReact Query\u30d5\u30c3\u30af\u3092\u4f5c\u6210\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/hooks/useProducts.ts\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { productApi, ProductFilters } from '@/services/api/products';\nimport type { CreateProductDto, UpdateProductDto } from '@/services/sdk';\n\nexport const productKeys = {\n  all: ['products'] as const,\n  lists: () => [...productKeys.all, 'list'] as const,\n  list: (filters: ProductFilters) => [...productKeys.lists(), filters] as const,\n  details: () => [...productKeys.all, 'detail'] as const,\n  detail: (pk: string, sk: string) => [...productKeys.details(), pk, sk] as const,\n};\n\nexport function useProducts(filters: ProductFilters = {}) {\n  return useQuery({\n    queryKey: productKeys.list(filters),\n    queryFn: () => productApi.list(filters),\n    staleTime: 60 * 1000, // 1 minute\n  });\n}\n\nexport function useProduct(pk: string, sk: string) {\n  return useQuery({\n    queryKey: productKeys.detail(pk, sk),\n    queryFn: () => productApi.get(pk, sk),\n    enabled: !!pk && !!sk,\n  });\n}\n\nexport function useCreateProduct() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (dto: CreateProductDto) => productApi.create(dto),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: productKeys.lists() });\n    },\n  });\n}\n\nexport function useUpdateProduct() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ pk, sk, dto }: { pk: string; sk: string; dto: UpdateProductDto }) =>\n      productApi.update(pk, sk, dto),\n    onSuccess: (_, { pk, sk }) => {\n      queryClient.invalidateQueries({ queryKey: productKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: productKeys.detail(pk, sk) });\n    },\n  });\n}\n\nexport function useDeleteProduct() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ pk, sk }: { pk: string; sk: string }) =>\n      productApi.delete(pk, sk),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: productKeys.lists() });\n    },\n  });\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u4ed8\u304d\u88fd\u54c1\u30ea\u30b9\u30c8",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u4ed8\u304d\u88fd\u54c1\u30ea\u30b9\u30c8"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u53ef\u80fd\u3067\u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\u4ed8\u304d\u306e\u88fd\u54c1\u30c6\u30fc\u30d6\u30eb\u3092\u8868\u793a\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/containers/products/ProductList.tsx\n'use client';\n\nimport { useProducts, useDeleteProduct } from '@/hooks/useProducts';\nimport { Button } from '@/components/ui/Button';\nimport { Table } from '@/components/ui/Table';\nimport { useState } from 'react';\n\nexport function ProductList() {\n  const [filters, setFilters] = useState({ page: 1, limit: 20 });\n  const { data, isLoading, error } = useProducts(filters);\n  const deleteProduct = useDeleteProduct();\n\n  if (isLoading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error.message}</div>;\n\n  const handleDelete = async (pk: string, sk: string) => {\n    if (confirm('Are you sure you want to delete this product?')) {\n      await deleteProduct.mutateAsync({ pk, sk });\n    }\n  };\n\n  return (\n    <Table\n      data={data?.items ?? []}\n      columns={[\n        { key: 'code', header: 'Code' },\n        { key: 'name', header: 'Name' },\n        { key: 'price', header: 'Price' },\n        { key: 'status', header: 'Status' },\n        {\n          key: 'actions',\n          header: 'Actions',\n          render: (row) => (\n            <Button\n              variant=\"danger\"\n              size=\"sm\"\n              onClick={() => handleDelete(row.pk, row.sk)}\n              loading={deleteProduct.isPending}\n            >\n              Delete\n            </Button>\n          ),\n        },\n      ]}\n      pagination={{\n        page: filters.page,\n        limit: filters.limit,\n        total: data?.count ?? 0,\n        onChange: (page) => setFilters((f) => ({ ...f, page })),\n     }}\n    />\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",children:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0"}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u69cb\u9020\u5316\u3055\u308c\u305f\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u69cb\u9020\u5316\u3055\u308c\u305f\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304c\u30d5\u30a3\u30fc\u30eb\u30c9\u30ec\u30d9\u30eb\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u8a73\u7d30\u3092\u542b\u3080\u69cb\u9020\u5316\u30a8\u30e9\u30fc\u3092\u8fd4\u3059\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u89e3\u6c7a\u7b56\uff1a\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u5f62\u5f0f\u3068\u4e00\u81f4\u3059\u308b\u30a8\u30e9\u30fc\u578b\u3092\u4f5c\u6210\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/types/api-errors.ts\nexport interface ApiError {\n  statusCode: number;\n  message: string;\n  error?: string;\n  details?: Record<string, string[]>;\n}\n\nexport class ApiException extends Error {\n  constructor(\n    public statusCode: number,\n    message: string,\n    public details?: Record<string, string[]>\n  ) {\n    super(message);\n    this.name = 'ApiException';\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u4e00\u5143\u5316\u3055\u308c\u305f\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30e9\u30fc",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u4e00\u5143\u5316\u3055\u308c\u305f\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30e9\u30fc"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u69d8\u3005\u306a\u30a8\u30e9\u30fc\u30bf\u30a4\u30d7\u3092\u4e00\u8cab\u3057\u305fApiException\u306b\u5909\u63db\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/lib/api/error-handler.ts\nimport { ApiException } from '@/types/api-errors';\n\nexport function handleApiError(error: unknown): never {\n  if (error instanceof ApiException) {\n    throw error;\n  }\n\n  if (error instanceof Error) {\n    throw new ApiException(500, error.message);\n  }\n\n  throw new ApiException(500, 'An unexpected error occurred');\n}\n\n// Usage in API wrapper\nexport const productApi = {\n  async list(filters: ProductFilters = {}): Promise<ProductListResponse> {\n    try {\n      const { data, error } = await ProductService.list({\n        query: filters,\n      });\n\n      if (error) {\n        throw new ApiException(\n          error.statusCode ?? 500,\n          error.message ?? 'Request failed',\n          error.details\n        );\n      }\n\n      return data;\n    } catch (error) {\n      handleApiError(error);\n    }\n  },\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30d5\u30a3\u30fc\u30eb\u30c9\u8a73\u7d30\u4ed8\u304d\u30a8\u30e9\u30fc\u8868\u793a",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u30d5\u30a3\u30fc\u30eb\u30c9\u8a73\u7d30\u4ed8\u304d\u30a8\u30e9\u30fc\u8868\u793a"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u8fd4\u3055\u308c\u305f\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc\u3092\u8868\u793a\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/components/ApiError.tsx\nimport { ApiException } from '@/types/api-errors';\nimport { Alert } from '@/components/ui/Alert';\n\ninterface ApiErrorProps {\n  error: Error | null;\n}\n\nexport function ApiError({ error }: ApiErrorProps) {\n  if (!error) return null;\n\n  const isApiException = error instanceof ApiException;\n\n  return (\n    <Alert variant=\"error\">\n      <p>{error.message}</p>\n      {isApiException && error.details && (\n        <ul className=\"mt-2 list-disc list-inside\">\n          {Object.entries(error.details).map(([field, messages]) => (\n            <li key={field}>\n              <strong>{field}:</strong> {messages.join(', ')}\n            </li>\n          ))}\n        </ul>\n      )}\n    </Alert>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8api\u547c\u3073\u51fa\u3057",children:"\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8API\u547c\u3073\u51fa\u3057"}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9saas\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u30c6\u30ca\u30f3\u30c8\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1aSaaS\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u30c6\u30ca\u30f3\u30c8\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u30e6\u30fc\u30b6\u30fc\u304c\u30c6\u30ca\u30f3\u30c8\u9593\u3092\u5207\u308a\u66ff\u3048\u53ef\u80fd\u3067\u3001\u3059\u3079\u3066\u306eAPI\u547c\u3073\u51fa\u3057\u304c\u9078\u629e\u3055\u308c\u305f\u30c6\u30ca\u30f3\u30c8\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u89e3\u6c7a\u7b56\uff1a\u30c6\u30ca\u30f3\u30c8\u3092\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8/\u30b9\u30c8\u30a2\u306b\u4fdd\u5b58\u3057\u3001API\u30d8\u30c3\u30c0\u30fc\u306b\u81ea\u52d5\u7684\u306b\u8ffd\u52a0\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/contexts/TenantContext.tsx\n'use client';\n\nimport { createContext, useContext, ReactNode } from 'react';\nimport { useTenantStore } from '@/stores/useTenantStore';\n\ninterface TenantContextValue {\n  tenantCode: string | null;\n  setTenant: (code: string) => void;\n}\n\nconst TenantContext = createContext<TenantContextValue | undefined>(undefined);\n\nexport function TenantProvider({ children }: { children: ReactNode }) {\n  const { currentTenant, setCurrentTenant } = useTenantStore();\n\n  return (\n    <TenantContext.Provider\n      value={{\n        tenantCode: currentTenant?.code ?? null,\n        setTenant: (code) => setCurrentTenant({ code } as Tenant),\n     }}\n    >\n      {children}\n    </TenantContext.Provider>\n  );\n}\n\nexport function useTenant() {\n  const context = useContext(TenantContext);\n  if (!context) {\n    throw new Error('useTenant must be used within TenantProvider');\n  }\n  return context;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30c6\u30ca\u30f3\u30c8\u30b9\u30b3\u30fc\u30d7\u306e\u30af\u30a8\u30ea",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1a\u30c6\u30ca\u30f3\u30c8\u30b9\u30b3\u30fc\u30d7\u306e\u30af\u30a8\u30ea"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u88fd\u54c1\u30ea\u30b9\u30c8\u306f\u73fe\u5728\u306e\u30c6\u30ca\u30f3\u30c8\u306e\u88fd\u54c1\u306e\u307f\u3092\u8868\u793a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/hooks/useTenantProducts.ts\nimport { useQuery } from '@tanstack/react-query';\nimport { useTenant } from '@/contexts/TenantContext';\nimport { productApi } from '@/services/api/products';\n\nexport function useTenantProducts() {\n  const { tenantCode } = useTenant();\n\n  return useQuery({\n    queryKey: ['products', tenantCode],\n    queryFn: () => productApi.list(),\n    enabled: !!tenantCode,\n  });\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7d71\u5408",children:"\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7d71\u5408"}),"\n",(0,s.jsx)(n.h3,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9api\u7d4c\u7531\u3067s3\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff1aAPI\u7d4c\u7531\u3067S3\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"}),"\n",(0,s.jsx)(n.p,{children:"\u30b7\u30ca\u30ea\u30aa\uff1a\u30e6\u30fc\u30b6\u30fc\u304cS3\u306b\u4fdd\u5b58\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u88fd\u54c1\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/services/api/files.ts\nimport { FileService } from '@/services/sdk';\n\nexport const fileApi = {\n  async upload(file: File, path: string): Promise<{ url: string }> {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('path', path);\n\n    const { data, error } = await FileService.upload({\n      body: formData,\n    });\n\n    if (error) {\n      throw new Error(error.message || 'Upload failed');\n    }\n\n    return data;\n  },\n\n  async getPresignedUrl(key: string): Promise<{ url: string; expiresIn: number }> {\n    const { data, error } = await FileService.getPresignedUrl({\n      query: { key },\n    });\n\n    if (error) {\n      throw new Error(error.message || 'Failed to get presigned URL');\n    }\n\n    return data;\n  },\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,s.jsx)(n.h3,{id:"1-\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u5909\u66f4\u5f8c\u306f\u5fc5\u305asdk\u3092\u518d\u751f\u6210\u3059\u308b",children:"1. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u5909\u66f4\u5f8c\u306f\u5fc5\u305aSDK\u3092\u518d\u751f\u6210\u3059\u308b"}),"\n",(0,s.jsx)(n.p,{children:"\u30bf\u30a4\u30df\u30f3\u30b0\uff1a\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30c1\u30fc\u30e0\u304cAPI\u5909\u66f4\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u6642\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u7406\u7531\uff1a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u578b\u304c\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u5b8c\u5168\u306b\u4e00\u81f4\u3059\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# After backend API changes\nnpm run generate-sdk\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-\u578b\u30ac\u30fc\u30c9\u3092\u4f7f\u7528\u3059\u308b",children:"2. \u578b\u30ac\u30fc\u30c9\u3092\u4f7f\u7528\u3059\u308b"}),"\n",(0,s.jsx)(n.p,{children:"\u30bf\u30a4\u30df\u30f3\u30b0\uff1a\u5916\u90e8\u30bd\u30fc\u30b9\u304b\u3089\u306e\u4e0d\u660e\u306a\u30c7\u30fc\u30bf\u3092\u6271\u3046\u6642\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function isProduct(data: unknown): data is Product {\n  return (\n    typeof data === 'object' &&\n    data !== null &&\n    'id' in data &&\n    'pk' in data &&\n    'sk' in data\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u3068\u30a8\u30e9\u30fc\u72b6\u614b\u3092\u51e6\u7406\u3059\u308b",children:"3. \u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u3068\u30a8\u30e9\u30fc\u72b6\u614b\u3092\u51e6\u7406\u3059\u308b"}),"\n",(0,s.jsx)(n.p,{children:"\u30bf\u30a4\u30df\u30f3\u30b0\uff1aAPI\u30af\u30a8\u30ea\u304b\u3089\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3059\u308b\u6642\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function ProductDetail({ pk, sk }: { pk: string; sk: string }) {\n  const { data, isLoading, error, refetch } = useProduct(pk, sk);\n\n  if (isLoading) {\n    return <Skeleton />;\n  }\n\n  if (error) {\n    return (\n      <ErrorState\n        message={error.message}\n        onRetry={() => refetch()}\n      />\n    );\n  }\n\n  if (!data) {\n    return <NotFound />;\n  }\n\n  return <ProductView product={data} />;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-\u66f4\u65b0\u6642\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u51e6\u7406",children:"4. \u66f4\u65b0\u6642\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u51e6\u7406"}),"\n",(0,s.jsx)(n.p,{children:"\u30bf\u30a4\u30df\u30f3\u30b0\uff1a\u697d\u89b3\u7684\u30ed\u30c3\u30af\u3092\u4f7f\u7528\u3059\u308b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b\u6642\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u7406\u7531\uff1aMBC CQRS Serverless\u306f\u540c\u6642\u66f4\u65b0\u306e\u7af6\u5408\u3092\u9632\u3050\u305f\u3081\u306bversion\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function useUpdateProductWithVersion() {\n  const queryClient = useQueryClient();\n  const updateProduct = useUpdateProduct();\n\n  return {\n    ...updateProduct,\n    mutateAsync: async ({ pk, sk, dto }: UpdateParams) => {\n      // Get current version from cache\n      const cached = queryClient.getQueryData<Product>(\n        productKeys.detail(pk, sk)\n      );\n\n      if (!cached) {\n        throw new Error('Product not found in cache');\n      }\n\n      return updateProduct.mutateAsync({\n        pk,\n        sk,\n        dto: { ...dto, version: cached.version },\n      });\n    },\n  };\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"5-\u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a",children:"5. \u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a"}),"\n",(0,s.jsx)(n.p,{children:"\u30bf\u30a4\u30df\u30f3\u30b0\uff1aReact Query\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u6642\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u7406\u7531\uff1a\u5e38\u306b\u5931\u6557\u3059\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a8\u30e9\u30fc(4xx)\u306e\u30ea\u30c8\u30e9\u30a4\u3092\u907f\u3051\u308b\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/lib/api/query-client.ts\nimport { QueryClient } from '@tanstack/react-query';\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 60 * 1000,\n      retry: (failureCount, error) => {\n        // Don't retry on 4xx errors\n        if (error instanceof ApiException && error.statusCode < 500) {\n          return false;\n        }\n        return failureCount < 3;\n      },\n    },\n    mutations: {\n      retry: false, // Don't retry mutations by default\n    },\n  },\n});\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var t=r(6540);const s={},i=t.createContext(s);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);